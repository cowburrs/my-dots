import{e as kr,r as oe,m as Vr,a as Go,i as Qe,b as Xr,t as Ho,g as zr,o as Yr,w as ir,n as sr,c as Wo,d as Jr,f as ko,h as Vo,j as ln,k as Xo,s as zo,u as H,l as Yo,p as Zr,q as Jo,v as Zo,x as pe,y as Qt,z as Ot,A as M,B as K,C as U,D as Y,_ as Qr,E as qr,F as _r,G as qn,H as mr,I as to,J as eo,K as qt,L as Qo,M as no,N as ro,O as qo,P as _o,Q as ta,R as he,S as ea,T as na,U as ra,V as oa,W as aa,X as ia,Y as Ut,Z as oo,$ as sa,a0 as la,a1 as ua,a2 as ca,a3 as fa}from"./vendor-C0wYaWGk.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const t of s.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ao;const Rn=e=>ao=e,io=Symbol();function _n(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ke;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ke||(ke={}));function da(){const e=kr(!0),n=e.run(()=>oe({}));let r=[],a=[];const o=Vr({install(s){Rn(o),o._a=s,s.provide(io,o),s.config.globalProperties.$pinia=o,a.forEach(t=>r.push(t)),a=[]},use(s){return this._a?r.push(s):a.push(s),this},_p:r,_a:null,_e:e,_s:new Map,state:n});return o}const so=()=>{};function yr(e,n,r,a=so){e.push(n);const o=()=>{const s=e.indexOf(n);s>-1&&(e.splice(s,1),a())};return!r&&zr()&&Yr(o),o}function Ee(e,...n){e.slice().forEach(r=>{r(...n)})}const pa=e=>e(),br=Symbol(),Nn=Symbol();function tr(e,n){e instanceof Map&&n instanceof Map?n.forEach((r,a)=>e.set(a,r)):e instanceof Set&&n instanceof Set&&n.forEach(e.add,e);for(const r in n){if(!n.hasOwnProperty(r))continue;const a=n[r],o=e[r];_n(o)&&_n(a)&&e.hasOwnProperty(r)&&!Qe(a)&&!Xr(a)?e[r]=tr(o,a):e[r]=a}return e}const va=Symbol();function ga(e){return!_n(e)||!e.hasOwnProperty(va)}const{assign:ue}=Object;function ha(e){return!!(Qe(e)&&e.effect)}function ma(e,n,r,a){const{state:o,actions:s,getters:t}=n,i=r.state.value[e];let l;function u(){i||(r.state.value[e]=o?o():{});const c=Wo(r.state.value[e]);return ue(c,s,Object.keys(t||{}).reduce((f,p)=>(f[p]=Vr(Jr(()=>{Rn(r);const v=r._s.get(e);return t[p].call(v,v)})),f),{}))}return l=lo(e,u,n,r,a,!0),l}function lo(e,n,r={},a,o,s){let t;const i=ue({actions:{}},r),l={deep:!0};let u,c,f=[],p=[],v;const g=a.state.value[e];!s&&!g&&(a.state.value[e]={}),oe({});let h;function d(A){let x;u=c=!1,typeof A=="function"?(A(a.state.value[e]),x={type:ke.patchFunction,storeId:e,events:v}):(tr(a.state.value[e],A),x={type:ke.patchObject,payload:A,storeId:e,events:v});const C=h=Symbol();sr().then(()=>{h===C&&(u=!0)}),c=!0,Ee(f,x,a.state.value[e])}const y=s?function(){const{state:x}=r,C=x?x():{};this.$patch(j=>{ue(j,C)})}:so;function m(){t.stop(),f=[],p=[],a._s.delete(e)}const I=(A,x="")=>{if(br in A)return A[Nn]=x,A;const C=function(){Rn(a);const j=Array.from(arguments),W=[],R=[];function N($){W.push($)}function P($){R.push($)}Ee(p,{args:j,name:C[Nn],store:T,after:N,onError:P});let L;try{L=A.apply(this&&this.$id===e?this:T,j)}catch($){throw Ee(R,$),$}return L instanceof Promise?L.then($=>(Ee(W,$),$)).catch($=>(Ee(R,$),Promise.reject($))):(Ee(W,L),L)};return C[br]=!0,C[Nn]=x,C},E={_p:a,$id:e,$onAction:yr.bind(null,p),$patch:d,$reset:y,$subscribe(A,x={}){const C=yr(f,A,x.detached,()=>j()),j=t.run(()=>ir(()=>a.state.value[e],W=>{(x.flush==="sync"?c:u)&&A({storeId:e,type:ke.direct,events:v},W)},ue({},l,x)));return C},$dispose:m},T=Go(E);a._s.set(e,T);const B=(a._a&&a._a.runWithContext||pa)(()=>a._e.run(()=>(t=kr()).run(()=>n({action:I}))));for(const A in B){const x=B[A];if(Qe(x)&&!ha(x)||Xr(x))s||(g&&ga(x)&&(Qe(x)?x.value=g[A]:tr(x,g[A])),a.state.value[e][A]=x);else if(typeof x=="function"){const C=I(x,A);B[A]=C,i.actions[A]=x}}return ue(T,B),ue(Ho(T),B),Object.defineProperty(T,"$state",{get:()=>a.state.value[e],set:A=>{d(x=>{ue(x,A)})}}),a._p.forEach(A=>{ue(T,t.run(()=>A({store:T,app:a._a,pinia:a,options:i})))}),g&&s&&r.hydrate&&r.hydrate(T.$state,g),u=!0,c=!0,T}/*! #__NO_SIDE_EFFECTS__ */function ya(e,n,r){let a,o;const s=typeof n=="function";a=e,o=s?r:n;function t(i,l){const u=Vo();return i=i||(u?ko(io,null):null),i&&Rn(i),i=ao,i._s.has(a)||(s?lo(a,n,o,i):ma(a,o,i)),i._s.get(a)}return t.$id=a,t}const Un=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Bn(e,n,r,a){e.addEventListener?e.addEventListener(n,r,a):e.attachEvent&&e.attachEvent("on".concat(n),r)}function Ne(e,n,r,a){e.removeEventListener?e.removeEventListener(n,r,a):e.detachEvent&&e.detachEvent("on".concat(n),r)}function uo(e,n){const r=n.slice(0,n.length-1);for(let a=0;a<r.length;a++)r[a]=e[r[a].toLowerCase()];return r}function co(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");const n=e.split(",");let r=n.lastIndexOf("");for(;r>=0;)n[r-1]+=",",n.splice(r,1),r=n.lastIndexOf("");return n}function ba(e,n){const r=e.length>=n.length?e:n,a=e.length>=n.length?n:e;let o=!0;for(let s=0;s<r.length;s++)a.indexOf(r[s])===-1&&(o=!1);return o}const qe={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":Un?173:189,"=":Un?61:187,";":Un?59:186,"'":222,"[":219,"]":221,"\\":220},te={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},Sn={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Dt={16:!1,18:!1,17:!1,91:!1},vt={};for(let e=1;e<20;e++)qe["f".concat(e)]=111+e;let ct=[],Ve=null,fo="all";const ne=new Map,nn=e=>qe[e.toLowerCase()]||te[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),Sa=e=>Object.keys(qe).find(n=>qe[n]===e),xa=e=>Object.keys(te).find(n=>te[n]===e);function po(e){fo=e||"all"}function _e(){return fo||"all"}function Ea(){return ct.slice(0)}function Oa(){return ct.map(e=>Sa(e)||xa(e)||String.fromCharCode(e))}function wa(){const e=[];return Object.keys(vt).forEach(n=>{vt[n].forEach(r=>{let{key:a,scope:o,mods:s,shortcut:t}=r;e.push({scope:o,shortcut:t,mods:s,keys:a.split("+").map(i=>nn(i))})})}),e}function Ia(e){const n=e.target||e.srcElement,{tagName:r}=n;let a=!0;const o=r==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(n.type);return(n.isContentEditable||(o||r==="TEXTAREA"||r==="SELECT")&&!n.readOnly)&&(a=!1),a}function Ta(e){return typeof e=="string"&&(e=nn(e)),ct.indexOf(e)!==-1}function Ca(e,n){let r,a;e||(e=_e());for(const o in vt)if(Object.prototype.hasOwnProperty.call(vt,o))for(r=vt[o],a=0;a<r.length;)r[a].scope===e?r.splice(a,1).forEach(t=>{let{element:i}=t;return lr(i)}):a++;_e()===e&&po(n||"all")}function Pa(e){let n=e.keyCode||e.which||e.charCode;const r=ct.indexOf(n);if(r>=0&&ct.splice(r,1),e.key&&e.key.toLowerCase()==="meta"&&ct.splice(0,ct.length),(n===93||n===224)&&(n=91),n in Dt){Dt[n]=!1;for(const a in te)te[a]===n&&(Ft[a]=!1)}}function vo(e){if(typeof e>"u")Object.keys(vt).forEach(o=>{Array.isArray(vt[o])&&vt[o].forEach(s=>un(s)),delete vt[o]}),lr(null);else if(Array.isArray(e))e.forEach(o=>{o.key&&un(o)});else if(typeof e=="object")e.key&&un(e);else if(typeof e=="string"){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];let[o,s]=r;typeof o=="function"&&(s=o,o=""),un({key:e,scope:o,method:s,splitKey:"+"})}}const un=e=>{let{key:n,scope:r,method:a,splitKey:o="+"}=e;co(n).forEach(t=>{const i=t.split(o),l=i.length,u=i[l-1],c=u==="*"?"*":nn(u);if(!vt[c])return;r||(r=_e());const f=l>1?uo(te,i):[],p=[];vt[c]=vt[c].filter(v=>{const h=(a?v.method===a:!0)&&v.scope===r&&ba(v.mods,f);return h&&p.push(v.element),!h}),p.forEach(v=>lr(v))})};function Sr(e,n,r,a){if(n.element!==a)return;let o;if(n.scope===r||n.scope==="all"){o=n.mods.length>0;for(const s in Dt)Object.prototype.hasOwnProperty.call(Dt,s)&&(!Dt[s]&&n.mods.indexOf(+s)>-1||Dt[s]&&n.mods.indexOf(+s)===-1)&&(o=!1);(n.mods.length===0&&!Dt[16]&&!Dt[18]&&!Dt[17]&&!Dt[91]||o||n.shortcut==="*")&&(n.keys=[],n.keys=n.keys.concat(ct),n.method(e,n)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function xr(e,n){const r=vt["*"];let a=e.keyCode||e.which||e.charCode;if(!Ft.filter.call(this,e))return;if((a===93||a===224)&&(a=91),ct.indexOf(a)===-1&&a!==229&&ct.push(a),["metaKey","ctrlKey","altKey","shiftKey"].forEach(i=>{const l=Sn[i];e[i]&&ct.indexOf(l)===-1?ct.push(l):!e[i]&&ct.indexOf(l)>-1?ct.splice(ct.indexOf(l),1):i==="metaKey"&&e[i]&&(ct=ct.filter(u=>u in Sn||u===a))}),a in Dt){Dt[a]=!0;for(const i in te)te[i]===a&&(Ft[i]=!0);if(!r)return}for(const i in Dt)Object.prototype.hasOwnProperty.call(Dt,i)&&(Dt[i]=e[Sn[i]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(ct.indexOf(17)===-1&&ct.push(17),ct.indexOf(18)===-1&&ct.push(18),Dt[17]=!0,Dt[18]=!0);const o=_e();if(r)for(let i=0;i<r.length;i++)r[i].scope===o&&(e.type==="keydown"&&r[i].keydown||e.type==="keyup"&&r[i].keyup)&&Sr(e,r[i],o,n);if(!(a in vt))return;const s=vt[a],t=s.length;for(let i=0;i<t;i++)if((e.type==="keydown"&&s[i].keydown||e.type==="keyup"&&s[i].keyup)&&s[i].key){const l=s[i],{splitKey:u}=l,c=l.key.split(u),f=[];for(let p=0;p<c.length;p++)f.push(nn(c[p]));f.sort().join("")===ct.sort().join("")&&Sr(e,l,o,n)}}function Ft(e,n,r){ct=[];const a=co(e);let o=[],s="all",t=document,i=0,l=!1,u=!0,c="+",f=!1,p=!1;for(r===void 0&&typeof n=="function"&&(r=n),Object.prototype.toString.call(n)==="[object Object]"&&(n.scope&&(s=n.scope),n.element&&(t=n.element),n.keyup&&(l=n.keyup),n.keydown!==void 0&&(u=n.keydown),n.capture!==void 0&&(f=n.capture),typeof n.splitKey=="string"&&(c=n.splitKey),n.single===!0&&(p=!0)),typeof n=="string"&&(s=n),p&&vo(e,s);i<a.length;i++)e=a[i].split(c),o=[],e.length>1&&(o=uo(te,e)),e=e[e.length-1],e=e==="*"?"*":nn(e),e in vt||(vt[e]=[]),vt[e].push({keyup:l,keydown:u,scope:s,mods:o,shortcut:a[i],method:r,key:a[i],splitKey:c,element:t});if(typeof t<"u"&&window){if(!ne.has(t)){const v=function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return xr(h,t)},g=function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;xr(h,t),Pa(h)};ne.set(t,{keydownListener:v,keyupListenr:g,capture:f}),Bn(t,"keydown",v,f),Bn(t,"keyup",g,f)}if(!Ve){const v=()=>{ct=[]};Ve={listener:v,capture:f},Bn(window,"focus",v,f)}}}function Aa(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(vt).forEach(r=>{vt[r].filter(o=>o.scope===n&&o.shortcut===e).forEach(o=>{o&&o.method&&o.method()})})}function lr(e){const n=Object.values(vt).flat();if(n.findIndex(a=>{let{element:o}=a;return o===e})<0){const{keydownListener:a,keyupListenr:o,capture:s}=ne.get(e)||{};a&&o&&(Ne(e,"keyup",o,s),Ne(e,"keydown",a,s),ne.delete(e))}if((n.length<=0||ne.size<=0)&&(Object.keys(ne).forEach(o=>{const{keydownListener:s,keyupListenr:t,capture:i}=ne.get(o)||{};s&&t&&(Ne(o,"keyup",t,i),Ne(o,"keydown",s,i),ne.delete(o))}),ne.clear(),Object.keys(vt).forEach(o=>delete vt[o]),Ve)){const{listener:o,capture:s}=Ve;Ne(window,"focus",o,s),Ve=null}}const $n={getPressedKeyString:Oa,setScope:po,getScope:_e,deleteScope:Ca,getPressedKeyCodes:Ea,getAllKeyCodes:wa,isPressed:Ta,filter:Ia,trigger:Aa,unbind:vo,keyMap:qe,modifier:te,modifierMap:Sn};for(const e in $n)Object.prototype.hasOwnProperty.call($n,e)&&(Ft[e]=$n[e]);if(typeof window<"u"){const e=window.hotkeys;Ft.noConflict=n=>(n&&window.hotkeys===Ft&&(window.hotkeys=e),Ft),window.hotkeys=Ft}const Er=oe(!1);function ur(){return{isPro:Er,setPro:n=>{Er.value=!!n}}}const go=oe(!1),Da=e=>{go.value=e};function cr(){return{open:go,setOpen:Da}}const{verifyToken:Or}=Oo(),{setPro:ja}=ur(),{setOpen:Ra}=cr(),ho=async(e,n=!1,r="")=>{let a="";for(let o of e)Array.isArray(o)&&o[0]==="uuid"&&(o=await logseq.Editor.getBlock(o[1],{includeChildren:!0})),a+=r+Ma(o.content)+`
`,o.children&&o.children.length>0&&(a+=await ho(o.children,n,r+"  "));return a},mo=e=>e.split(`
`).filter(n=>n.indexOf("id:: ")===-1).join(`
`),Ma=e=>e.split(`
`).filter(n=>!n.includes(":: ")).map(n=>n.trim().substring(0,30)+(n.trim().length>30?"...":"")).join(`
`),yo=async(e,n)=>{console.log("childrenBlocks",e);for(let r of e){let a=r;Array.isArray(r)&&r[0]==="uuid"&&(a=await logseq.Editor.getBlock(r[1]));const o=await logseq.Editor.insertBlock(n.uuid,mo(a.content),{sibling:!1});a.children&&await yo(a.children,o)}};function La(e){const n=/\b[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}\b/gi,r=e.match(n);return r?r[0]:""}const wr=async(e,n)=>{if(!e||!e.content||/^\s+$/gm.test(e.content))return logseq.UI.showMsg("Found empty selected block, ignore and continue to process!","warning"),!1;const r=await logseq.App.getUserConfigs(),{to:a,action:o,journal:s,after:t,page:i,uuid:l,at:u}=n;let c,f,p=!1;switch(a){case"today":c=ln(new Date,Intl.DateTimeFormat().resolvedOptions().timeZone,r.preferredDateFormat),p=!0;break;case"yesterday":c=ln(zo(new Date),Intl.DateTimeFormat().resolvedOptions().timeZone,r.preferredDateFormat),p=!0;break;case"tomorrow":c=ln(Xo(new Date,1),Intl.DateTimeFormat().resolvedOptions().timeZone,r.preferredDateFormat),p=!0;break;case"contents":c="contents";break;case"current_page":let h=await logseq.Editor.getCurrentPage();if(!h){const y=await logseq.Editor.getCurrentBlock();y&&(h=await logseq.Editor.getPage(y.page.id))}c=h.name;break;case"page":c=i;break;case"journal":s||logseq.UI.showMsg("Journal should not be empty","warning"),c=ln(s,Intl.DateTimeFormat().resolvedOptions().timeZone,r.preferredDateFormat),p=!0;break;case"block":const d=La(l);d||logseq.UI.showMsg("UUID not found, block movement failed!","warning"),f=await logseq.Editor.getBlock(d),f?c=(await logseq.Editor.getPage(f.page.id)).originalName:logseq.UI.showMsg("Target block not found, block movement failed!","warning");break}if(e?.properties?.id||await logseq.Editor.upsertBlockProperty(e.uuid,"id",e.uuid),!c){logseq.UI.showMsg("Target page can not be parsed, block movement failed!","warning");return}await So(c,p),f||(u==="bottom"?f=await fr(c):f=await Ba(c));let v,g;switch(o){case"copy_ref":g=`((${e.uuid}))`;break;case"copy_embed":g=`{{embed ((${e.uuid}))}}`;break;case"copy_content":g=e.content.split(`
`).filter(h=>h.indexOf("id:: ")===-1).join(`
`);break}if(f)if(["copy_ref","copy_embed","copy_content"].includes(o))f.content?v=await logseq.Editor.insertBlock(f.uuid,g,{before:u!=="bottom",sibling:!0}):(await logseq.Editor.updateBlock(f.uuid,g),v=f);else if(o==="copy_content_hierarchy"){const h=await logseq.Editor.getBlock(e.uuid,{includeChildren:!0});g=mo(h.content),v=await logseq.Editor.insertBlock(f.uuid,g,{before:u!=="bottom",sibling:!0}),e.children&&e.children.length>0&&yo(e.children,v)}else["cut_content","cut_content_and_keep_ref","cut_content_and_keep_embed"].includes(o)&&(o==="cut_content_and_keep_ref"?await logseq.Editor.insertBlock(e.uuid,`((${e.uuid}))`,{before:!1,sibling:!0}):o==="cut_content_and_keep_embed"&&await logseq.Editor.insertBlock(e.uuid,`{{embed ((${e.uuid}))}}`,{before:!1,sibling:!0}),await logseq.Editor.moveBlock(e.uuid,f.uuid,{before:u!=="bottom",children:!1}),v=await logseq.Editor.getBlock(e.uuid));else return logseq.UI.showMsg("Target page empty, block movement failed!","warning"),!1;return{targetPage:c,targetBlock:v}},Oe=logseq.Assets.makeSandboxStorage(),tn=ya("target",{state:()=>({countMovingBlocks:0,movingBlocks:"",fallbackUUID:"",visible:!1,destination:{to:"today",at:"bottom",action:"copy_ref",journal:null,after:"stay",page:"",uuid:""},pages:[],history:[],favorites:[],defaultFavorites:[{to:"today",journal:null,page:"",at:"bottom",action:"copy_ref",after:"stay"},{to:"contents",journal:null,page:"",at:"bottom",action:"copy_ref",after:"stay"},{to:"current_page",journal:null,page:"",at:"top",action:"copy_ref",after:"stay"}]}),actions:{async init(){if(!await Oe.hasItem("favorites.json"))this.favorites=this.defaultFavorites;else{let r=await Oe.getItem("favorites.json");r=r?JSON.parse(r):[],r.length===0?this.favorites=this.defaultFavorites:this.favorites=r}if(!await Oe.hasItem("history.json"))this.history=[];else{let r=await Oe.getItem("history.json");r=r?JSON.parse(r):[],r.length===0?this.history=[]:this.history=r}},async saveFavorites(){await Oe.setItem("favorites.json",JSON.stringify(this.favorites))},async deleteFavorite(e){this.favorites.splice(e,1),await this.saveFavorites()},async addCurrentToFavorites(){await this.addFavorite(this.destination)},async clearFavorites(){this.favorites=[],await this.saveFavorites()},async addFavorite(e){const n=this.favorites.findIndex(r=>{if(r.to===e.to&&r.journal===e.journal&&r.page===e.page&&r.at===e.at&&r.action===e.action&&r.after===e.after)return!0});n!==-1&&this.favorites.splice(n,1),this.favorites.unshift({to:e.to,journal:e.journal,page:e.page,at:e.at,action:e.action,after:e.after}),this.favorites.length>15&&this.favorites.pop(),await this.saveFavorites()},async saveHistory(){await Oe.setItem("history.json",JSON.stringify(this.history))},async deleteHistory(e){this.history.splice(e,1),await this.saveHistory()},async clearHistory(){this.history=[],await this.saveHistory()},async addHistory(e){const n=this.history.findIndex(r=>{if(r.to===e.to&&r.journal===e.journal&&r.page===e.page&&r.at===e.at&&r.action===e.action&&r.after===e.after)return!0});n!==-1&&this.history.splice(n,1),this.history.unshift({to:e.to,journal:e.journal,page:e.page,at:e.at,action:e.action,after:e.after}),this.history.length>15&&this.history.pop(),await this.saveHistory()},setFallbackUUID(e){this.fallbackUUID=e},clearFallbackUUID(e){this.fallbackUUID=""},async loadPages(){const e=await logseq.DB.datascriptQuery(`
        [:find ?page-name (pull ?page [*])
          :where
          [?page :block/name ?page-name]
          [?page :block/journal? false]
        ]
      `);this.pages=e.map(n=>n[0])},async open(){let e=await logseq.Editor.getSelectedBlocks();e&&e.length>1?this.countMovingBlocks=e.length:(this.countMovingBlocks=1,e=[await logseq.Editor.getCurrentBlock()]),this.movingBlocks=await ho(e,e.length===1);const n=await Or();ja(n),this.visible=!0},hide(){logseq.hideMainUI({restoreEditingCursor:!0})},async submit(){const{to:e,action:n,journal:r,after:a,page:o,at:s}=this.destination;if((e==="block"||["cut_content_and_keep_ref","cut_content_and_keep_embed","copy_content_hierarchy"].includes(n))&&!await Or()){Ra(!0);return}await this.addHistory(this.destination);const t=await logseq.Editor.getSelectedBlocks();let i;if(t&&t.length>1){const l=t.map(f=>f.id),u=f=>f.filter(p=>!l.includes(p.parent.id));let c=t;["cut_content","cut_content_and_keep_ref","cut_content_and_keep_embed"].includes(n)&&(c=u(t)),s==="top"&&(c=c.reverse());for(let f of c)i=await wr(f,this.destination)}else{let l=await logseq.Editor.getCurrentBlock();l||(l=await logseq.Editor.getBlock(this.fallbackUUID)),l&&(i=await wr(l,this.destination))}if(a==="jump"&&i){const{targetPage:l,targetBlock:u}=i;l&&u&&await logseq.Editor.scrollToBlockInPage(l,u.uuid)}this.clearFallbackUUID(),logseq.hideMainUI({restoreEditingCursor:!0})}}}),Fa="v1",en={keyBindings:{moveBlock:"mod+shift+m"},settingsVersion:Fa,disabled:!1},Na=()=>{let e=logseq.settings;(!e||e.settingsVersion!=en.settingsVersion)&&(e=en,logseq.updateSettings(e))},bo=(e=void 0,n=void 0)=>{const r=logseq.settings,a=Object.assign(en,r);return e?a[e]?a[e]:n:a},Ua=(e,n)=>{en[e]=n,logseq.updateSettings(en)},Ba=async function(e){const n=await logseq.Editor.getPageBlocksTree(e);return n.length===0?null:n[0]},fr=async function(e){const n=await logseq.Editor.getPageBlocksTree(e);return n.length===0?null:n[n.length-1]},So=async function(e,n=!1){const r=async()=>{await logseq.Editor.createPage(e,{},{createFirstBlock:!0,redirect:!1,journal:n})};await logseq.Editor.getPage(e)?await fr(e)===null&&(await logseq.Editor.deletePage(e),await r()):await r()};function $a(){document.querySelector('#to-section input[type="radio"]:checked').focus()}async function Ka(){Ft("enter",()=>(tn().submit(),!1)),Ft("t",()=>{document.querySelector('#to-section input[type="radio"]:checked').focus()}),Ft("a",()=>{document.querySelector('#at-section input[type="radio"]:checked').focus()}),Ft("c",()=>{document.querySelector('#action-section input[type="radio"]:checked').focus()}),Ft("f",()=>{document.querySelector('#after-section input[type="radio"]:checked').focus()}),Ft("j",()=>{const e=document.activeElement;if(e.type==="radio"){const n=e.name,r=document.getElementsByName(n),o=(Array.from(r).indexOf(e)+1)%r.length;r[o].checked=!0,r[o].focus(),r[o].dispatchEvent(new Event("change",{bubbles:!0}))}}),Ft("k",()=>{const e=document.activeElement;if(e.type==="radio"){const n=e.name,r=document.getElementsByName(n),o=(Array.from(r).indexOf(e)-1)%r.length;r[o].checked=!0,r[o].focus(),r[o].dispatchEvent(new Event("change",{bubbles:!0}))}})}const Ga="move-block-token";function Ha(e){return zr()?(Yr(e),!0):!1}function dr(e){return typeof e=="function"?e():H(e)}const Wa=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ka=Object.prototype.toString,Va=e=>ka.call(e)==="[object Object]",Xa=()=>{};function za(e,n){function r(...a){return new Promise((o,s)=>{Promise.resolve(e(()=>n.apply(this,a),{fn:n,thisArg:this,args:a})).then(o).catch(s)})}return r}const xo=e=>e();function Ya(e=xo){const n=oe(!0);function r(){n.value=!1}function a(){n.value=!0}const o=(...s)=>{n.value&&e(...s)};return{isActive:Yo(n),pause:r,resume:a,eventFilter:o}}function Ja(e){return Jo()}function Za(e,n,r={}){const{eventFilter:a=xo,...o}=r;return ir(e,za(a,n),o)}function Qa(e,n,r={}){const{eventFilter:a,...o}=r,{eventFilter:s,pause:t,resume:i,isActive:l}=Ya(a);return{stop:Za(e,n,{...o,eventFilter:s}),pause:t,resume:i,isActive:l}}function qa(e,n=!0,r){Ja()?Zr(e,r):n?e():sr(e)}function _a(e){var n;const r=dr(e);return(n=r?.$el)!=null?n:r}const Tn=Wa?window:void 0;function Ir(...e){let n,r,a,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,a,o]=e,n=Tn):[n,r,a,o]=e,!n)return Xa;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const s=[],t=()=>{s.forEach(c=>c()),s.length=0},i=(c,f,p,v)=>(c.addEventListener(f,p,v),()=>c.removeEventListener(f,p,v)),l=ir(()=>[_a(n),dr(o)],([c,f])=>{if(t(),!c)return;const p=Va(f)?{...f}:f;s.push(...r.flatMap(v=>a.map(g=>i(c,v,g,p))))},{immediate:!0,flush:"post"}),u=()=>{l(),t()};return Ha(u),u}const cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fn="__vueuse_ssr_handlers__",ti=ei();function ei(){return fn in cn||(cn[fn]=cn[fn]||{}),cn[fn]}function ni(e,n){return ti[e]||n}function ri(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const oi={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Tr="vueuse-storage";function ai(e,n,r,a={}){var o;const{flush:s="pre",deep:t=!0,listenToStorageChanges:i=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:f=Tn,eventFilter:p,onError:v=C=>{console.error(C)},initOnMounted:g}=a,h=(c?Zo:oe)(n);if(!r)try{r=ni("getDefaultStorage",()=>{var C;return(C=Tn)==null?void 0:C.localStorage})()}catch(C){v(C)}if(!r)return h;const d=dr(n),y=ri(d),m=(o=a.serializer)!=null?o:oi[y],{pause:I,resume:E}=Qa(h,()=>O(h.value),{flush:s,deep:t,eventFilter:p});f&&i&&qa(()=>{Ir(f,"storage",A),Ir(f,Tr,x),g&&A()}),g||A();function T(C,j){f&&f.dispatchEvent(new CustomEvent(Tr,{detail:{key:e,oldValue:C,newValue:j,storageArea:r}}))}function O(C){try{const j=r.getItem(e);if(C==null)T(j,null),r.removeItem(e);else{const W=m.write(C);j!==W&&(r.setItem(e,W),T(j,W))}}catch(j){v(j)}}function B(C){const j=C?C.newValue:r.getItem(e);if(j==null)return l&&d!=null&&r.setItem(e,m.write(d)),d;if(!C&&u){const W=m.read(j);return typeof u=="function"?u(W,d):y==="object"&&!Array.isArray(W)?{...d,...W}:W}else return typeof j!="string"?j:m.read(j)}function A(C){if(!(C&&C.storageArea!==r)){if(C&&C.key==null){h.value=d;return}if(!(C&&C.key!==e)){I();try{C?.newValue!==m.write(h.value)&&(h.value=B(C))}catch(j){v(j)}finally{C?sr(E):E()}}}}function x(C){A(C.detail)}return h}function ii(e,n,r={}){const{window:a=Tn}=r;return ai(e,n,a?.localStorage,r)}const Cr=ii(Ga,"",{}),Pr=e=>{const n=["​","‌","‍"],r=new RegExp(n.join("|"),"g"),a=e.match(r);return a?a.join("").split(n[0]).reduce((s,t)=>{const i=[...t].reduce((u,c)=>u+=c===n[1]?0:1,""),l=parseInt(i,2);return s+=String.fromCharCode(l)},""):""};function si(e){const n=atob(e);return Eo(n)}function Eo(e){const n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let a=0,o=e.length;a<o;a++)r[a]=e.charCodeAt(a);return n}function li(e){const n=e.trim(),o=n.substring("-----BEGIN PUBLIC KEY-----".length,n.length-"-----END PUBLIC KEY-----".length).replace(/\n/g,""),s=atob(o);return Eo(s)}async function ui(e){return await crypto.subtle.importKey("spki",li(e),{name:"RSA-PSS",hash:"SHA-256"},!0,["verify"])}const Ar=async(e,n,r)=>{const a=await ui(r),o=si(n),s=new TextEncoder().encode(e);try{return await crypto.subtle.verify({name:"RSA-PSS",saltLength:32,hash:"SHA-256"},a,o,s)}catch{return!1}};function ci(e,n){const r=[];for(let t=0;t<256;t++)r[t]=t;let a=0;for(let t=0;t<256;t++){a=(a+r[t]+e.charCodeAt(t%e.length))%256;let i=r[t];r[t]=r[a],r[a]=i}let o=0;a=0;let s="";for(let t=0;t<n.length;t++){o=(o+1)%256,a=(a+r[o])%256;let i=r[o];r[o]=r[a],r[a]=i;let u=r[(r[o]+r[a])%256]^n.charCodeAt(t);s+=String.fromCharCode(u)}return s}function fi(e,n){const a=ci(e,atob(n)).split(":");if(a.length<2)throw new Error("Invalid license");const o=parseInt(a[0],10),s=a.slice(1).join(":");if(Math.floor(Date.now()/1e3)>o)throw new Error("License has expired");return s}function Oo(){const e="l‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‌‌‌‍‌​‍‌‌‌‍‌‍​‍‌‌‌‍‍‍​‍‌‌‍‌‌‍​‍‌‌‍‍‍‌​‍‌‌‌‌‌​‍‌‍‌‌‌‌​‍‌‍‌‍‌‍​‍‌‌‌‌‍‌​‍‌‌‍‍‌‌​‍‌‌‍‌‌‍​‍‌‌‌‌‍‍​‍‌‌‌‌‌​‍‌‌‍‌‍‍​‍‌‌‌‍‌‍​‍‌‍‍‌‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‌​‍‌‌‍‍‌‍​‍‌‌‍‌‌‍​‍‌‌‍‌‌‍​‍‌‌‌‌‍‌​‍‌‌‍‌‌‍​‍‍‌‍‌‍‌​‍‌‌‌‌‌‍​‍‌‌‍‍‍‌​‍‌‌‌‌‍‌​‍‍‌‌‍‍‍​‍‍‌‍‌‍‍​‍‍‍‌‌‌‍​‍‍‌‍‌‌‌​‍‍‌‍‌‍‍​‍‍‌‍‌‌‍​‍‌‌‌‍‍‍​‍‍‍‌‌‍​‍‍‍‌‍‍‍​‍‍‌‌‌‌​‍‌‌‌‌‍‌​‍‌‌‌‌‌‍​‍‌‍‌‌‌‍​‍‌‌‌‍‌‍​‍‌‌‌‍‍‌​‍‌‌‌‌‌‍​‍‌‌‌‌‌‍​‍‌‌‍‍‍‍​‍‌‌‌‌‍‍​‍‌‌‌‌‌‍​‍‌‍‌‌‌‍​‍‍‍‌‌‌​‍‌‌‌‌‌‍​‍‌‌‍‍‌‍​‍‌‌‍‌‌‍​‍‌‌‍‌‌‍​‍‌‌‌‌‍‌​‍‌‌‌‌‍‍​‍‍‌‌‍‍‍​‍‌‌‍‌‍‍​‍‌‌‌‌‍‍​‍‌‌‌‌‌‍​‍‌‍‌‌‌‍​‍‌‌‌‍‌‍​‍‌‌‌‌‌‍​‍‍‍‌‍‌‌​‍‌‌‌‍‌‍​‍‌‍‌‌‍‌​‍‍‌‌‌‍​‍‌‍‌‍‌‌​‍‍‍‌‍‌‍​‍‍‌‍‍‌‌​‍‍‌‍‌‌​‍‌‌‍‍‌‌​‍‌‌‍‌‌‍​‍‍‍‌‌‍‌​‍‍‌‍‌‌​‍‍‌‌‌‌‍​‍‍‍‌‍‍‌​‍‍‍‌‍‍‌​‍‌‌‌‍‌‍​‍‌‌‌‍‍‍​‍‍‍‍‌‌‌​‍‍‍‍‌‍‌​‍‍‌‍‍‌‌​‍‌‍‌​‍‌‌‍‌‍‍​‍‌‍‌‌‌‌​‍‍‌‍‌‌​‍‍‌‌‌‍​‍‍‌‍‌‌‌​‍‌‌‌‍‌‍​‍‌‌‌‍‌‌​‍‌‌‍‍‌‍​‍‌‍‌‍‍‌​‍‍‌‌‍‍​‍‌‌‌‍‌‍​‍‌‍‍‌‌‌​‍‌‌‍‍‌‍​‍‍‌‌‍‍​‍‍‌‍‌‌​‍‌‌‍‍‌‍​‍‌‍‍‌‍‌​‍‌‍‌‍‌‌​‍‌‍‍‌‍‌​‍‌‍‍‍‍​‍‍‌‌‍‍‍​‍‍‍‌‍‌‍​‍‍‍‌‍‍‌​‍‍‌‌‌‌​‍‍‍‌‍‌‌​‍‍‌‌‌‍​‍‌‍‌‍‌‌​‍‌‌‍‍‍‍​‍‍‌‍‌‍​‍‍‌‌‌‍‌​‍‌‍‍‌‌‍​‍‍‌‍‌‍‌​‍‌‌‍‍‍‍​‍‍‍‌‍‍‍​‍‌‍‌‍‌‌​‍‍‍‌‌‍​‍‍‍‌‌‍​‍‌‍‌‌‍‍​‍‍‌‌‍‌‍​‍‍‍‍‌‍‌​‍‌‌‌‍‍‍​‍‍‌‍‍‍‌​‍‍‌‍‌‍‌​‍‌‌‍‌‍‌​‍‍‍‍‌‌‌​‍‌‍‌‍‍‌​‍‍‌‍‌‌‍​‍‌‍‌‍‍‌​‍‌‍‌‍‍​‍‍‌‌‍‍​‍‌‌‌‍‌‍​‍‌‌‌‍‌‌​‍‌‍‌‍‌‍​‍‌‌‍‍‍‌​‍‌‌‌‍‍‍​‍‍‍‍‌‌‌​‍‌‌‌‍‌‌​‍‌‌‌‌‌‍​‍‍‌‌‍‍​‍‌‌‍‍‍‍​‍‍‌‌‍‍‍​‍‍‌‌‍‌‍​‍‍‌‍‌‌‍​‍‌‍‌‌‌‌​‍‌‍‌​‍‍‌‍‍‌‌​‍‍‌‌‍‍​‍‍‌‌‍‍‌​‍‍‌‍‍‌‌​‍‍‌‍‍‍‌​‍‍‌‍‌‍‍​‍‌‍‌‌‍‌​‍‍‌‌‍‍‌​‍‍‌‍‌‍‍​‍‌‌‍‍‍‌​‍‍‌‌‍‍‌​‍‍‌‍‌‍‌​‍‌‍‌‌‌‍​‍‌‌‍‌‍‍​‍‍‍‌‌‍​‍‌‍‌‍‍​‍‍‌‌‍‌‌​‍‍‍‌‍‌‌​‍‍‌‍‌‍‌​‍‌‌‍‌‍‍​‍‍‌‍‌‍‍​‍‌‌‍‌‍‌​‍‍‌‌‌‍‍​‍‌‌‍‍‌‌​‍‌‌‌‍‌‌​‍‍‌‌‍‌‍​‍‍‌‌‍‍‌​‍‌‍‌‌‌‌​‍‍‍‍‌‌‍​‍‍‌‌‌‍‍​‍‍‌‌‌‍​‍‍‌‍‌‍​‍‍‍‌‌‌​‍‌‌‌‌‌‍​‍‍‍‌‍‌‍​‍‍‌‍‍‍‌​‍‍‌‌‌‍​‍‍‌‍‌‌​‍‌‌‍‍‌‌​‍‌‌‌‌‌‍​‍‍‌‌‌‌‍​‍‍‌‍‍‌​‍‍‌‌‍‍‍​‍‌‌‌‌‍‍​‍‌‍‌‍‌‍​‍‌‌‍‌‍‍​‍‍‌‍‍‌‍​‍‍‌‌‍‌‌​‍‍‌‌‍‌‌​‍‌‌‍‌‍‍​‍‌‍‌‍‍‌​‍‌‌‍‍‌‍​‍‌‍‌‍‍‌​‍‌‌‌‌‌‍​‍‍‌‍‍‍​‍‌‌‍‌‍‌​‍‍‌‌‌‌‍​‍‌‌‌‍‍‌​‍‌‌‌‌‍‌​‍‌‍‍‌‌‍​‍‌‌‍‍‌‍​‍‍‍‌‍‌‍​‍‍‍‌‍‍‌​‍‍‍‌‌‍‌​‍‌‍‌​‍‌‌‍‌‍‌​‍‍‌‍‌‌‍​‍‍‍‌‌‌‌​‍‌‌‌‍‌‍​‍‍‌‍‌‍​‍‌‌‌‍‍‍​‍‍‌‌‌‍‍​‍‌‌‍‌‍‌​‍‌‌‍‌‍‌​‍‍‍‌‌‌‌​‍‍‌‍‌‍‌​‍‍‌‍‌‌‍​‍‍‌‍‍‌​‍‌‌‌‍‍‌​‍‌‍‌‍‍‍​‍‌‌‍‍‌‌​‍‌‍‌‌‌‍​‍‌‍‌‍‌‍​‍‍‌‍‍‌​‍‌‍‌‌‍‍​‍‍‍‌‌‍​‍‍‍‌‌‌‍​‍‍‌‌‍‌‍​‍‍‌‍‌‌​‍‌‍‌‌‍‌​‍‌‍‌‍‍​‍‌‍‌‍‍​‍‌‍‌‌‌‌​‍‌‍‍‍‍​‍‍‍‌‌‌‍​‍‌‍‍‍‍​‍‍‍‌‍‍‍​‍‌‍‍‌‌‌​‍‍‌‌‍‌‍​‍‌‌‍‍‌‍​‍‍‌‌‍‍‌​‍‍‍‌‍‌‌​‍‍‌‌‌‍​‍‌‍‌‍‍‍​‍‍‌‌‌‌​‍‌‍‌‍‍‌​‍‌‌‌‌‌‍​‍‍‌‌‌‍‍​‍‌‌‌‌‍‍​‍‌‍‍‌‍‌​‍‍‌‌‍‍‍​‍‌‌‍‌‌‌​‍‌‌‌‍‌‍​‍‌‌‍‍‍‍​‍‍‌‍‍‍‍​‍‌‌‍‍‍‍​‍‍‌‌‍‍​‍‍‌‌‍‌‍​‍‍‌‍‍‍​‍‍‍‌‍‍‌​‍‌‌‍‍‍‌​‍‍‌‌‌‌‍​‍‍‌‍‍‌​‍‌‌‍‍‌‍​‍‌‌‍‌‌‌​‍‍‌‍‌‌‌​‍‌‌‍‍‌‍​‍‌‍‌‍‍‍​‍‌‌‍‍‌‍​‍‌‍‌​‍‍‍‌‍‌‌​‍‍‌‌‌‍‌​‍‌‌‍‌‌‍​‍‌‌‍‌‌‍​‍‍‍‍‌‌‌​‍‌‌‌‍‍‍​‍‌‌‍‌‌‍​‍‍‍‌‌‌‍​‍‌‍‍‌‌‌​‍‍‌‍‌‍​‍‍‌‍‍‍​‍‌‍‍‍‍​‍‍‍‌‌‍‌​‍‌‍‌‌‍‍​‍‍‌‌‌‌​‍‌‍‌‍‍‌​‍‍‌‌‌‍​‍‍‍‌‍‍‍​‍‌‍‌‍‌‍​‍‌‍‌‌‍‍​‍‍‌‍‍‍​‍‍‍‌‍‌‍​‍‌‌‍‍‍‌​‍‍‌‌‍‌‌​‍‌‌‌‌‌‍​‍‌‌‌‍‌‌​‍‌‌‌‍‍‌​‍‍‍‌‌‌​‍‍‍‍‌‌‍​‍‌‌‌‍‌‌​‍‌‌‌‍‌‌​‍‍‌‍‌‌‌​‍‍‌‌‍‍‍​‍‍‍‌‌‌​‍‍‍‍‌‍‌​‍‍‍‌‍‌‍​‍‍‌‌‍‌‍​‍‌‌‌‍‍‌​‍‌‌‍‍‌‍​‍‍‍‌‌‌​‍‌‍‍‍‍​‍‍‍‌‍‌‌​‍‍‌‍‍‍‌​‍‍‌‍‍‍‍​‍‍‌‍‍‍‍​‍‌‌‍‌‌‌​‍‍‍‌‍‍‍​‍‍‌‌‍‍‍​‍‌‌‌‌‌‍​‍‌‌‌‍‍‌​‍‍‌‌‍‌​‍‍‌‌‌‍‍​‍‌‍‌‍‌‍​‍‍‍‍‌‌‌​‍‌‌‍‌‌‍​‍‌‍‍‍‍​‍‍‌‍‌‍​‍‍‍‌‍‍‍​‍‍‍‌‌‌‍​‍‍‌‍‌‍‌​‍‌‌‌‍‍‌​‍‍‌‍‌‍​‍‍‍‌‌‍​‍‍‌‌‍‍​‍‌‍‌​‍‌‍‌‍‍‌​‍‍‌‍‌‌‍​‍‍‍‌‌‍‌​‍‍‌‍‌‍‍​‍‌‌‍‍‍‌​‍‌‍‌‍‍‌​‍‌‍‍‌‌‍​‍‍‍‍‌‌‌​‍‍‌‌‌‍‍​‍‌‍‌‍‌‌​‍‍‌‌‌‍‍​‍‍‌‍‍‍‌​‍‌‌‌‌‍‌​‍‌‍‌‍‌‌​‍‌‌‌‌‌‍​‍‌‍‌‌‌‌​‍‌‌‌‍‌‌​‍‍‍‌‌‌‌​‍‌‌‍‌‍‌​‍‌‌‌‍‌‌​‍‌‍‌‌‌‍​‍‍‍‌‌‍‌​‍‌‌‍‌‍‍​‍‍‌‌‍‍​‍‍‌‍‌‍​‍‍‍‌‌‌‍​‍‍‌‌‍‍​‍‍‌‍‌‌‍​‍‌‍‌‍‌‌​‍‌‍‌‌‍‌​‍‍‌‍‍‍​‍‍‍‍‌‌‌​‍‌‍‌‍‌‍​‍‍‌‌‍‍‍​‍‍‌‍‍‍‍​‍‍‍‌‌‌‍​‍‌‍‍‌‌‌​‍‌‌‍‌‌‍​‍‌‌‍‍‌‌​‍‍‍‌‌‍‍​‍‍‌‍‍‍‌​‍‌‌‍‍‌‌​‍‍‌‌‌‍‍​‍‍‌‌‍‍​‍‌‌‍‌‍‌​‍‍‌‌‍‍​‍‍‍‌‌‍‍​‍‌‍‍‌‍‌​‍‌‍‌‍‌‍​‍‍‍‍‌‌‍​‍‌‌‍‍‍‌​‍‍‌‌‌‍‍​‍‌‍‍‌‍‌​‍‍‍‌‍‌‌​‍‍‍‍‌‍‌​‍‌‌‌‌‍‍​‍‍‌‌‍‌‌​‍‍‍‌‍‌‌​‍‍‍‌‍‌‍​‍‍‌‍‌‌​‍‍‌‍‌‌​‍‌‌‍‍‌‍​‍‍‌‍‍‌‍​‍‍‍‍‌‌‍​‍‌‍‌​‍‍‍‌‌‌‍​‍‌‍‌‌‌‍​‍‌‌‍‌‌‍​‍‌‌‌‍‌‌​‍‌‌‌‌‌‍​‍‌‍‌‌‌‍​‍‌‌‌‌‌‍​‍‌‌‌‌‍‌​‍‌‍‌​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‌‌‍‌‍​‍‌‌‍‍‍‌​‍‌‌‌‍‌‌​‍‌‌‌‌‌​‍‌‍‌‌‌‌​‍‌‍‌‍‌‍​‍‌‌‌‌‍‌​‍‌‌‍‍‌‌​‍‌‌‍‌‌‍​‍‌‌‌‌‍‍​‍‌‌‌‌‌​‍‌‌‍‌‍‍​‍‌‌‌‍‌‍​‍‌‍‍‌‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‍‌‍​‍‌‍‌ogseq-move-block";return{verifyLicense:async(a,o)=>{try{const s=btoa(logseq.baseInfo.id),t=fi(s,o.trim());return await Ar(a.trim(),t,Pr(e))?(logseq.UI.showMsg("License verified","success"),Cr.value=t,Ua("email",a.trim()),!0):(logseq.UI.showMsg("License verification failed","warning"),!1)}catch{logseq.UI.showMsg("License verification failed","warning")}return!1},verifyToken:async()=>{const a=Cr.value;if(!a)return!1;const o=bo();return!!await Ar(o.email,a,Pr(e))}}}const di={class:"mt-4 mb-4"},pi={class:"mb-4"},vi=pe({__name:"License",setup(e){const{open:n,setOpen:r}=cr(),{setPro:a}=ur(),{verifyLicense:o}=Oo(),s=oe(""),t=oe(""),i=async()=>{await o(s.value,t.value)&&(a(!0),r(!1))},l=()=>{r(!1)};return(u,c)=>{const f=Qr,p=_r,v=qr,g=to,h=eo;return Ot(),Qt(h,{show:H(n),"onUpdate:show":c[4]||(c[4]=d=>Qe(n)?n.value=d:null),"close-on-esc":!0,closable:!0,"mask-closable":!0,"auto-focus":!0,"show-icon":!1,"on-close":l,"on-esc":l,"on-mask-click":l,"transform-origin":"center",preset:"dialog"},{header:M(()=>c[5]||(c[5]=[K("h2",null,"License Required",-1)])),action:M(()=>[U(g,{strong:"",secondary:"",type:"primary",onClick:i},{default:M(()=>c[9]||(c[9]=[Y(" Save License ")])),_:1})]),default:M(()=>[K("div",di,[K("div",pi,[c[6]||(c[6]=Y(" Most of the features of this plugin are free to use. Only few of them require a ")),U(f,{value:"Pro",max:15}),c[7]||(c[7]=Y(" license. The license income can motivate me to keep improving and making it better. "))]),c[8]||(c[8]=K("div",{class:"flex justify-around"},[K("a",{target:"_blank",href:"https://buymeacoffee.com/vipzhicheng/e/255428",class:"mb-5 inline-block bg-[#17A058] px-4 py-2 text-center font-semibold text-white"},[K("div",{class:"mr-6 font-bold"},"Outside China users purchase here")]),K("a",{target:"_blank",href:"https://www.vipzhicheng.com/logseq-plugin-move-block/cn/purchase.html",class:"mb-5 inline-block bg-[#17A058] px-4 py-2 text-center font-semibold text-white"},[K("div",{class:"mr-6 font-bold"},"China Mainland users purchase here")])],-1))]),U(v,{"label-width":"120px",path:"age",label:"Email","label-placement":"left"},{default:M(()=>[U(p,{value:s.value,"onUpdate:value":c[0]||(c[0]=d=>s.value=d),onKeydown:c[1]||(c[1]=qn(mr(()=>{},["prevent"]),["enter"])),placeholder:"Please input your email"},null,8,["value"])]),_:1}),U(v,{"label-width":"120px",path:"password",label:"License","label-placement":"left"},{default:M(()=>[U(p,{value:t.value,"onUpdate:value":c[2]||(c[2]=d=>t.value=d),onKeydown:c[3]||(c[3]=qn(mr(()=>{},["prevent"]),["enter"])),placeholder:"Please input your license"},null,8,["value"])]),_:1})]),_:1},8,["show"])}}}),gi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},hi=K("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[K("circle",{cx:"12",cy:"12",r:"9"}),K("path",{d:"M12 8v4"}),K("path",{d:"M12 16h.01"})],-1),mi=[hi],Kn=pe({name:"AlertCircle",render:function(n,r){return Ot(),qt("svg",gi,mi)}}),yi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},bi=K("path",{d:"M12 6l4 6l5-4l-2 10H5L3 8l5 4z",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Si=[bi],xi=pe({name:"Crown",render:function(n,r){return Ot(),qt("svg",yi,Si)}}),Ei={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Oi=K("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[K("circle",{cx:"12",cy:"12",r:"9"}),K("path",{d:"M12 8h.01"}),K("path",{d:"M11 12h1v4h1"})],-1),wi=[Oi],Ii=pe({name:"InfoCircle",render:function(n,r){return Ot(),qt("svg",Ei,wi)}}),Ti={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ci=K("path",{d:"M5 12h14",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Pi=[Ci],Dr=pe({name:"Minus",render:function(n,r){return Ot(),qt("svg",Ti,Pi)}}),Ai={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Di=K("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[K("path",{d:"M12 5v14"}),K("path",{d:"M5 12h14"})],-1),ji=[Di],Ri=pe({name:"Plus",render:function(n,r){return Ot(),qt("svg",Ai,ji)}}),Mi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Li=Qo('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 7h16"></path><path d="M10 11v6"></path><path d="M14 11v6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12"></path><path d="M9 7V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"></path></g>',1),Fi=[Li],jr=pe({name:"Trash",render:function(n,r){return Ot(),qt("svg",Mi,Fi)}}),Ni=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),Ui=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),Bi=new RegExp("(\\d)(\\p{Ll})","gu"),$i=new RegExp("(\\p{L})(\\d)","gu"),Ki=/[^\p{L}\d]+/giu,dn="$1\0$2",Gi="";function wo(e,n){let r=e.trim();r=r.replace(Ni,dn).replace(Ui,dn),n?.separateNumbers&&(r=r.replace(Bi,dn).replace($i,dn)),r=r.replace(Ki,"\0");let a=0,o=r.length;for(;r.charAt(a)==="\0";)a++;if(a===o)return[];for(;r.charAt(o-1)==="\0";)o--;return r.slice(a,o).split(/\0/g)}function Hi(e,n){return To(e,n?.prefixCharacters)+wo(e,n).map(Io(n?.locale)).join(n?.delimiter??" ")}function Wi(e,n){const r=To(e,n?.prefixCharacters),a=Io(n?.locale),o=ki(n?.locale),s=Vi(a,o);return r+wo(e,n).map((t,i)=>i===0?s(t):a(t)).join(n?.delimiter??" ")}function Io(e){return e===!1?n=>n.toLowerCase():n=>n.toLocaleLowerCase(e)}function ki(e){return e===!1?n=>n.toUpperCase():n=>n.toLocaleUpperCase(e)}function Vi(e,n){return r=>`${n(r[0])}${e(r.slice(1))}`}function To(e,n=Gi){let r="";for(let a=0;a<e.length;a++){const o=e.charAt(a);if(n.includes(o))r+=o;else break}return r}const Gn=Hi,pn=Wi;var Co={exports:{}};(function(e,n){(function(){var r={};e.exports=r,r.simpleFilter=function(a,o){return o.filter(function(s){return r.test(a,s)})},r.test=function(a,o){return r.match(a,o)!==null},r.match=function(a,o,s){s=s||{};var t=0,i=[],l=o.length,u=0,c=0,f=s.pre||"",p=s.post||"",v=s.caseSensitive&&o||o.toLowerCase(),g;a=s.caseSensitive&&a||a.toLowerCase();for(var h=0;h<l;h++)g=o[h],v[h]===a[t]?(g=f+g+p,t+=1,c+=1+c):c=0,u+=c,i[i.length]=g;return t===a.length?(u=v===a?1/0:u,{rendered:i.join(""),score:u}):null},r.filter=function(a,o,s){return!o||o.length===0?[]:typeof a!="string"?o:(s=s||{},o.reduce(function(t,i,l,u){var c=i;s.extract&&(c=s.extract(i));var f=r.match(a,c,s);return f!=null&&(t[t.length]={string:f.rendered,score:f.score,index:l,original:i}),t},[]).sort(function(t,i){var l=i.score-t.score;return l||t.index-i.index}))}})()})(Co);var Xi=Co.exports;const zi=no(Xi);var Po={exports:{}};const Yi=ro(qo);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Rr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function ee(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Rr(Object(r),!0).forEach(function(a){Ji(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xn=function(n){return typeof n}:xn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xn(e)}function Ji(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function kt(){return kt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kt.apply(this,arguments)}function Zi(e,n){if(e==null)return{};var r={},a=Object.keys(e),o,s;for(s=0;s<a.length;s++)o=a[s],!(n.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Qi(e,n){if(e==null)return{};var r=Zi(e,n),a,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)a=s[o],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qi(e){return _i(e)||ts(e)||es(e)||ns()}function _i(e){if(Array.isArray(e))return er(e)}function ts(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function es(e,n){if(e){if(typeof e=="string")return er(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,n)}}function er(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function ns(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rs="1.14.0";function re(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ae=re(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),rn=re(/Edge/i),Mr=re(/firefox/i),Xe=re(/safari/i)&&!re(/chrome/i)&&!re(/android/i),Ao=re(/iP(ad|od|hone)/i),os=re(/chrome/i)&&re(/android/i),Do={capture:!1,passive:!1};function et(e,n,r){e.addEventListener(n,r,!ae&&Do)}function tt(e,n,r){e.removeEventListener(n,r,!ae&&Do)}function Cn(e,n){if(n){if(n[0]===">"&&(n=n.substring(1)),e)try{if(e.matches)return e.matches(n);if(e.msMatchesSelector)return e.msMatchesSelector(n);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(n)}catch{return!1}return!1}}function as(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Yt(e,n,r,a){if(e){r=r||document;do{if(n!=null&&(n[0]===">"?e.parentNode===r&&Cn(e,n):Cn(e,n))||a&&e===r)return e;if(e===r)break}while(e=as(e))}return null}var Lr=/\s+/g;function pt(e,n,r){if(e&&n)if(e.classList)e.classList[r?"add":"remove"](n);else{var a=(" "+e.className+" ").replace(Lr," ").replace(" "+n+" "," ");e.className=(a+(r?" "+n:"")).replace(Lr," ")}}function k(e,n,r){var a=e&&e.style;if(a){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),n===void 0?r:r[n];!(n in a)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),a[n]=r+(typeof r=="string"?"":"px")}}function Se(e,n){var r="";if(typeof e=="string")r=e;else do{var a=k(e,"transform");a&&a!=="none"&&(r=a+" "+r)}while(!n&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(r)}function jo(e,n,r){if(e){var a=e.getElementsByTagName(n),o=0,s=a.length;if(r)for(;o<s;o++)r(a[o],o);return a}return[]}function _t(){var e=document.scrollingElement;return e||document.documentElement}function ft(e,n,r,a,o){if(!(!e.getBoundingClientRect&&e!==window)){var s,t,i,l,u,c,f;if(e!==window&&e.parentNode&&e!==_t()?(s=e.getBoundingClientRect(),t=s.top,i=s.left,l=s.bottom,u=s.right,c=s.height,f=s.width):(t=0,i=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(n||r)&&e!==window&&(o=o||e.parentNode,!ae))do if(o&&o.getBoundingClientRect&&(k(o,"transform")!=="none"||r&&k(o,"position")!=="static")){var p=o.getBoundingClientRect();t-=p.top+parseInt(k(o,"border-top-width")),i-=p.left+parseInt(k(o,"border-left-width")),l=t+s.height,u=i+s.width;break}while(o=o.parentNode);if(a&&e!==window){var v=Se(o||e),g=v&&v.a,h=v&&v.d;v&&(t/=h,i/=g,f/=g,c/=h,l=t+c,u=i+f)}return{top:t,left:i,bottom:l,right:u,width:f,height:c}}}function Fr(e,n,r){for(var a=de(e,!0),o=ft(e)[n];a;){var s=ft(a)[r],t=void 0;if(t=o>=s,!t)return a;if(a===_t())break;a=de(a,!1)}return!1}function Ae(e,n,r,a){for(var o=0,s=0,t=e.children;s<t.length;){if(t[s].style.display!=="none"&&t[s]!==z.ghost&&(a||t[s]!==z.dragged)&&Yt(t[s],r.draggable,e,!1)){if(o===n)return t[s];o++}s++}return null}function pr(e,n){for(var r=e.lastElementChild;r&&(r===z.ghost||k(r,"display")==="none"||n&&!Cn(r,n));)r=r.previousElementSibling;return r||null}function bt(e,n){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==z.clone&&(!n||Cn(e,n))&&r++;return r}function Nr(e){var n=0,r=0,a=_t();if(e)do{var o=Se(e),s=o.a,t=o.d;n+=e.scrollLeft*s,r+=e.scrollTop*t}while(e!==a&&(e=e.parentNode));return[n,r]}function is(e,n){for(var r in e)if(e.hasOwnProperty(r)){for(var a in n)if(n.hasOwnProperty(a)&&n[a]===e[r][a])return Number(r)}return-1}function de(e,n){if(!e||!e.getBoundingClientRect)return _t();var r=e,a=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var o=k(r);if(r.clientWidth<r.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return _t();if(a||n)return r;a=!0}}while(r=r.parentNode);return _t()}function ss(e,n){if(e&&n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e}function Hn(e,n){return Math.round(e.top)===Math.round(n.top)&&Math.round(e.left)===Math.round(n.left)&&Math.round(e.height)===Math.round(n.height)&&Math.round(e.width)===Math.round(n.width)}var ze;function Ro(e,n){return function(){if(!ze){var r=arguments,a=this;r.length===1?e.call(a,r[0]):e.apply(a,r),ze=setTimeout(function(){ze=void 0},n)}}}function ls(){clearTimeout(ze),ze=void 0}function Mo(e,n,r){e.scrollLeft+=n,e.scrollTop+=r}function vr(e){var n=window.Polymer,r=window.jQuery||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function Ur(e,n){k(e,"position","absolute"),k(e,"top",n.top),k(e,"left",n.left),k(e,"width",n.width),k(e,"height",n.height)}function Wn(e){k(e,"position",""),k(e,"top",""),k(e,"left",""),k(e,"width",""),k(e,"height","")}var Rt="Sortable"+new Date().getTime();function us(){var e=[],n;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(k(o,"display")==="none"||o===z.ghost)){e.push({target:o,rect:ft(o)});var s=ee({},e[e.length-1].rect);if(o.thisAnimationDuration){var t=Se(o,!0);t&&(s.top-=t.f,s.left-=t.e)}o.fromRect=s}})}},addAnimationState:function(a){e.push(a)},removeAnimationState:function(a){e.splice(is(e,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(n),typeof a=="function"&&a();return}var s=!1,t=0;e.forEach(function(i){var l=0,u=i.target,c=u.fromRect,f=ft(u),p=u.prevFromRect,v=u.prevToRect,g=i.rect,h=Se(u,!0);h&&(f.top-=h.f,f.left-=h.e),u.toRect=f,u.thisAnimationDuration&&Hn(p,f)&&!Hn(c,f)&&(g.top-f.top)/(g.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(l=fs(g,p,v,o.options)),Hn(f,c)||(u.prevFromRect=c,u.prevToRect=f,l||(l=o.options.animation),o.animate(u,g,f,l)),l&&(s=!0,t=Math.max(t,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(n),s?n=setTimeout(function(){typeof a=="function"&&a()},t):typeof a=="function"&&a(),e=[]},animate:function(a,o,s,t){if(t){k(a,"transition",""),k(a,"transform","");var i=Se(this.el),l=i&&i.a,u=i&&i.d,c=(o.left-s.left)/(l||1),f=(o.top-s.top)/(u||1);a.animatingX=!!c,a.animatingY=!!f,k(a,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=cs(a),k(a,"transition","transform "+t+"ms"+(this.options.easing?" "+this.options.easing:"")),k(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){k(a,"transition",""),k(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},t)}}}}function cs(e){return e.offsetWidth}function fs(e,n,r,a){return Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))/Math.sqrt(Math.pow(n.top-r.top,2)+Math.pow(n.left-r.left,2))*a.animation}var we=[],kn={initializeByDefault:!0},on={mount:function(n){for(var r in kn)kn.hasOwnProperty(r)&&!(r in n)&&(n[r]=kn[r]);we.forEach(function(a){if(a.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),we.push(n)},pluginEvent:function(n,r,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var s=n+"Global";we.forEach(function(t){r[t.pluginName]&&(r[t.pluginName][s]&&r[t.pluginName][s](ee({sortable:r},a)),r.options[t.pluginName]&&r[t.pluginName][n]&&r[t.pluginName][n](ee({sortable:r},a)))})},initializePlugins:function(n,r,a,o){we.forEach(function(i){var l=i.pluginName;if(!(!n.options[l]&&!i.initializeByDefault)){var u=new i(n,r,n.options);u.sortable=n,u.options=n.options,n[l]=u,kt(a,u.defaults)}});for(var s in n.options)if(n.options.hasOwnProperty(s)){var t=this.modifyOption(n,s,n.options[s]);typeof t<"u"&&(n.options[s]=t)}},getEventProperties:function(n,r){var a={};return we.forEach(function(o){typeof o.eventProperties=="function"&&kt(a,o.eventProperties.call(r[o.pluginName],n))}),a},modifyOption:function(n,r,a){var o;return we.forEach(function(s){n[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[r]=="function"&&(o=s.optionListeners[r].call(n[s.pluginName],a))}),o}};function Ke(e){var n=e.sortable,r=e.rootEl,a=e.name,o=e.targetEl,s=e.cloneEl,t=e.toEl,i=e.fromEl,l=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,f=e.newDraggableIndex,p=e.originalEvent,v=e.putSortable,g=e.extraEventProperties;if(n=n||r&&r[Rt],!!n){var h,d=n.options,y="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!ae&&!rn?h=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(a,!0,!0)),h.to=t||r,h.from=i||r,h.item=o||r,h.clone=s,h.oldIndex=l,h.newIndex=u,h.oldDraggableIndex=c,h.newDraggableIndex=f,h.originalEvent=p,h.pullMode=v?v.lastPutMode:void 0;var m=ee(ee({},g),on.getEventProperties(a,n));for(var I in m)h[I]=m[I];r&&r.dispatchEvent(h),d[y]&&d[y].call(n,h)}}var ds=["evt"],Bt=function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,s=Qi(a,ds);on.pluginEvent.bind(z)(n,r,ee({dragEl:F,parentEl:mt,ghostEl:q,rootEl:ut,nextEl:be,lastDownEl:En,cloneEl:yt,cloneHidden:fe,dragStarted:Ge,putSortable:At,activeSortable:z.active,originalEvent:o,oldIndex:Pe,oldDraggableIndex:Ye,newIndex:Ht,newDraggableIndex:ce,hideGhostForTarget:Uo,unhideGhostForTarget:Bo,cloneNowHidden:function(){fe=!0},cloneNowShown:function(){fe=!1},dispatchSortableEvent:function(i){Lt({sortable:r,name:i,originalEvent:o})}},s))};function Lt(e){Ke(ee({putSortable:At,cloneEl:yt,targetEl:F,rootEl:ut,oldIndex:Pe,oldDraggableIndex:Ye,newIndex:Ht,newDraggableIndex:ce},e))}var F,mt,q,ut,be,En,yt,fe,Pe,Ht,Ye,ce,vn,At,Ce=!1,Pn=!1,An=[],me,Xt,Vn,Xn,Br,$r,Ge,Ie,Je,Ze=!1,gn=!1,On,jt,zn=[],nr=!1,Dn=[],Mn=typeof document<"u",hn=Ao,Kr=rn||ae?"cssFloat":"float",ps=Mn&&!os&&!Ao&&"draggable"in document.createElement("div"),Lo=function(){if(Mn){if(ae)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Fo=function(n,r){var a=k(n),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),s=Ae(n,0,r),t=Ae(n,1,r),i=s&&k(s),l=t&&k(t),u=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+ft(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ft(t).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&i.float&&i.float!=="none"){var f=i.float==="left"?"left":"right";return t&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return s&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||u>=o&&a[Kr]==="none"||t&&a[Kr]==="none"&&u+c>o)?"vertical":"horizontal"},vs=function(n,r,a){var o=a?n.left:n.top,s=a?n.right:n.bottom,t=a?n.width:n.height,i=a?r.left:r.top,l=a?r.right:r.bottom,u=a?r.width:r.height;return o===i||s===l||o+t/2===i+u/2},gs=function(n,r){var a;return An.some(function(o){var s=o[Rt].options.emptyInsertThreshold;if(!(!s||pr(o))){var t=ft(o),i=n>=t.left-s&&n<=t.right+s,l=r>=t.top-s&&r<=t.bottom+s;if(i&&l)return a=o}}),a},No=function(n){function r(s,t){return function(i,l,u,c){var f=i.options.group.name&&l.options.group.name&&i.options.group.name===l.options.group.name;if(s==null&&(t||f))return!0;if(s==null||s===!1)return!1;if(t&&s==="clone")return s;if(typeof s=="function")return r(s(i,l,u,c),t)(i,l,u,c);var p=(t?i:l).options.group.name;return s===!0||typeof s=="string"&&s===p||s.join&&s.indexOf(p)>-1}}var a={},o=n.group;(!o||xn(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=r(o.pull,!0),a.checkPut=r(o.put),a.revertClone=o.revertClone,n.group=a},Uo=function(){!Lo&&q&&k(q,"display","none")},Bo=function(){!Lo&&q&&k(q,"display","")};Mn&&document.addEventListener("click",function(e){if(Pn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Pn=!1,!1},!0);var ye=function(n){if(F){n=n.touches?n.touches[0]:n;var r=gs(n.clientX,n.clientY);if(r){var a={};for(var o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);a.target=a.rootEl=r,a.preventDefault=void 0,a.stopPropagation=void 0,r[Rt]._onDragOver(a)}}},hs=function(n){F&&F.parentNode[Rt]._isOutsideThisEl(n.target)};function z(e,n){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=n=kt({},n),e[Rt]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fo(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,i){t.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:z.supportPointer!==!1&&"PointerEvent"in window&&!Xe,emptyInsertThreshold:5};on.initializePlugins(this,e,r);for(var a in r)!(a in n)&&(n[a]=r[a]);No(n);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=n.forceFallback?!1:ps,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?et(e,"pointerdown",this._onTapStart):(et(e,"mousedown",this._onTapStart),et(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(et(e,"dragover",this),et(e,"dragenter",this)),An.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),kt(this,us())}z.prototype={constructor:z,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(Ie=null)},_getDirection:function(n,r){return typeof this.options.direction=="function"?this.options.direction.call(this,n,r,F):this.options.direction},_onTapStart:function(n){if(n.cancelable){var r=this,a=this.el,o=this.options,s=o.preventOnFilter,t=n.type,i=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,l=(i||n).target,u=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||l,c=o.filter;if(ws(a),!F&&!(/mousedown|pointerdown/.test(t)&&n.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Xe&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Yt(l,o.draggable,a,!1),!(l&&l.animated)&&En!==l)){if(Pe=bt(l),Ye=bt(l,o.draggable),typeof c=="function"){if(c.call(this,n,l,this)){Lt({sortable:r,rootEl:u,name:"filter",targetEl:l,toEl:a,fromEl:a}),Bt("filter",r,{evt:n}),s&&n.cancelable&&n.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=Yt(u,f.trim(),a,!1),f)return Lt({sortable:r,rootEl:f,name:"filter",targetEl:l,fromEl:a,toEl:a}),Bt("filter",r,{evt:n}),!0}),c)){s&&n.cancelable&&n.preventDefault();return}o.handle&&!Yt(u,o.handle,a,!1)||this._prepareDragStart(n,i,l)}}},_prepareDragStart:function(n,r,a){var o=this,s=o.el,t=o.options,i=s.ownerDocument,l;if(a&&!F&&a.parentNode===s){var u=ft(a);if(ut=s,F=a,mt=F.parentNode,be=F.nextSibling,En=a,vn=t.group,z.dragged=F,me={target:F,clientX:(r||n).clientX,clientY:(r||n).clientY},Br=me.clientX-u.left,$r=me.clientY-u.top,this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,F.style["will-change"]="all",l=function(){if(Bt("delayEnded",o,{evt:n}),z.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Mr&&o.nativeDraggable&&(F.draggable=!0),o._triggerDragStart(n,r),Lt({sortable:o,name:"choose",originalEvent:n}),pt(F,t.chosenClass,!0)},t.ignore.split(",").forEach(function(c){jo(F,c.trim(),Yn)}),et(i,"dragover",ye),et(i,"mousemove",ye),et(i,"touchmove",ye),et(i,"mouseup",o._onDrop),et(i,"touchend",o._onDrop),et(i,"touchcancel",o._onDrop),Mr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,F.draggable=!0),Bt("delayStart",this,{evt:n}),t.delay&&(!t.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(rn||ae))){if(z.eventCanceled){this._onDrop();return}et(i,"mouseup",o._disableDelayedDrag),et(i,"touchend",o._disableDelayedDrag),et(i,"touchcancel",o._disableDelayedDrag),et(i,"mousemove",o._delayedDragTouchMoveHandler),et(i,"touchmove",o._delayedDragTouchMoveHandler),t.supportPointer&&et(i,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,t.delay)}else l()}},_delayedDragTouchMoveHandler:function(n){var r=n.touches?n.touches[0]:n;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){F&&Yn(F),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;tt(n,"mouseup",this._disableDelayedDrag),tt(n,"touchend",this._disableDelayedDrag),tt(n,"touchcancel",this._disableDelayedDrag),tt(n,"mousemove",this._delayedDragTouchMoveHandler),tt(n,"touchmove",this._delayedDragTouchMoveHandler),tt(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,r){r=r||n.pointerType=="touch"&&n,!this.nativeDraggable||r?this.options.supportPointer?et(document,"pointermove",this._onTouchMove):r?et(document,"touchmove",this._onTouchMove):et(document,"mousemove",this._onTouchMove):(et(F,"dragend",this),et(ut,"dragstart",this._onDragStart));try{document.selection?wn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,r){if(Ce=!1,ut&&F){Bt("dragStarted",this,{evt:r}),this.nativeDraggable&&et(document,"dragover",hs);var a=this.options;!n&&pt(F,a.dragClass,!1),pt(F,a.ghostClass,!0),z.active=this,n&&this._appendGhost(),Lt({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Xt){this._lastX=Xt.clientX,this._lastY=Xt.clientY,Uo();for(var n=document.elementFromPoint(Xt.clientX,Xt.clientY),r=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(Xt.clientX,Xt.clientY),n!==r);)r=n;if(F.parentNode[Rt]._isOutsideThisEl(n),r)do{if(r[Rt]){var a=void 0;if(a=r[Rt]._onDragOver({clientX:Xt.clientX,clientY:Xt.clientY,target:n,rootEl:r}),a&&!this.options.dragoverBubble)break}n=r}while(r=r.parentNode);Bo()}},_onTouchMove:function(n){if(me){var r=this.options,a=r.fallbackTolerance,o=r.fallbackOffset,s=n.touches?n.touches[0]:n,t=q&&Se(q,!0),i=q&&t&&t.a,l=q&&t&&t.d,u=hn&&jt&&Nr(jt),c=(s.clientX-me.clientX+o.x)/(i||1)+(u?u[0]-zn[0]:0)/(i||1),f=(s.clientY-me.clientY+o.y)/(l||1)+(u?u[1]-zn[1]:0)/(l||1);if(!z.active&&!Ce){if(a&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<a)return;this._onDragStart(n,!0)}if(q){t?(t.e+=c-(Vn||0),t.f+=f-(Xn||0)):t={a:1,b:0,c:0,d:1,e:c,f};var p="matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.e,",").concat(t.f,")");k(q,"webkitTransform",p),k(q,"mozTransform",p),k(q,"msTransform",p),k(q,"transform",p),Vn=c,Xn=f,Xt=s}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!q){var n=this.options.fallbackOnBody?document.body:ut,r=ft(F,!0,hn,!0,n),a=this.options;if(hn){for(jt=n;k(jt,"position")==="static"&&k(jt,"transform")==="none"&&jt!==document;)jt=jt.parentNode;jt!==document.body&&jt!==document.documentElement?(jt===document&&(jt=_t()),r.top+=jt.scrollTop,r.left+=jt.scrollLeft):jt=_t(),zn=Nr(jt)}q=F.cloneNode(!0),pt(q,a.ghostClass,!1),pt(q,a.fallbackClass,!0),pt(q,a.dragClass,!0),k(q,"transition",""),k(q,"transform",""),k(q,"box-sizing","border-box"),k(q,"margin",0),k(q,"top",r.top),k(q,"left",r.left),k(q,"width",r.width),k(q,"height",r.height),k(q,"opacity","0.8"),k(q,"position",hn?"absolute":"fixed"),k(q,"zIndex","100000"),k(q,"pointerEvents","none"),z.ghost=q,n.appendChild(q),k(q,"transform-origin",Br/parseInt(q.style.width)*100+"% "+$r/parseInt(q.style.height)*100+"%")}},_onDragStart:function(n,r){var a=this,o=n.dataTransfer,s=a.options;if(Bt("dragStart",this,{evt:n}),z.eventCanceled){this._onDrop();return}Bt("setupClone",this),z.eventCanceled||(yt=vr(F),yt.draggable=!1,yt.style["will-change"]="",this._hideClone(),pt(yt,this.options.chosenClass,!1),z.clone=yt),a.cloneId=wn(function(){Bt("clone",a),!z.eventCanceled&&(a.options.removeCloneOnHide||ut.insertBefore(yt,F),a._hideClone(),Lt({sortable:a,name:"clone"}))}),!r&&pt(F,s.dragClass,!0),r?(Pn=!0,a._loopId=setInterval(a._emulateDragOver,50)):(tt(document,"mouseup",a._onDrop),tt(document,"touchend",a._onDrop),tt(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",s.setData&&s.setData.call(a,o,F)),et(document,"drop",a),k(F,"transform","translateZ(0)")),Ce=!0,a._dragStartId=wn(a._dragStarted.bind(a,r,n)),et(document,"selectstart",a),Ge=!0,Xe&&k(document.body,"user-select","none")},_onDragOver:function(n){var r=this.el,a=n.target,o,s,t,i=this.options,l=i.group,u=z.active,c=vn===l,f=i.sort,p=At||u,v,g=this,h=!1;if(nr)return;function d(ot,st){Bt(ot,g,ee({evt:n,isOwner:c,axis:v?"vertical":"horizontal",revert:t,dragRect:o,targetRect:s,canSort:f,fromSortable:p,target:a,completed:m,onMove:function(gt,ht){return mn(ut,r,F,o,gt,ft(gt),n,ht)},changed:I},st))}function y(){d("dragOverAnimationCapture"),g.captureAnimationState(),g!==p&&p.captureAnimationState()}function m(ot){return d("dragOverCompleted",{insertion:ot}),ot&&(c?u._hideClone():u._showClone(g),g!==p&&(pt(F,At?At.options.ghostClass:u.options.ghostClass,!1),pt(F,i.ghostClass,!0)),At!==g&&g!==z.active?At=g:g===z.active&&At&&(At=null),p===g&&(g._ignoreWhileAnimating=a),g.animateAll(function(){d("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===F&&!F.animated||a===r&&!a.animated)&&(Ie=null),!i.dragoverBubble&&!n.rootEl&&a!==document&&(F.parentNode[Rt]._isOutsideThisEl(n.target),!ot&&ye(n)),!i.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),h=!0}function I(){Ht=bt(F),ce=bt(F,i.draggable),Lt({sortable:g,name:"change",toEl:r,newIndex:Ht,newDraggableIndex:ce,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),a=Yt(a,i.draggable,r,!0),d("dragOver"),z.eventCanceled)return h;if(F.contains(n.target)||a.animated&&a.animatingX&&a.animatingY||g._ignoreWhileAnimating===a)return m(!1);if(Pn=!1,u&&!i.disabled&&(c?f||(t=mt!==ut):At===this||(this.lastPutMode=vn.checkPull(this,u,F,n))&&l.checkPut(this,u,F,n))){if(v=this._getDirection(n,a)==="vertical",o=ft(F),d("dragOverValid"),z.eventCanceled)return h;if(t)return mt=ut,y(),this._hideClone(),d("revert"),z.eventCanceled||(be?ut.insertBefore(F,be):ut.appendChild(F)),m(!0);var E=pr(r,i.draggable);if(!E||Ss(n,v,this)&&!E.animated){if(E===F)return m(!1);if(E&&r===n.target&&(a=E),a&&(s=ft(a)),mn(ut,r,F,o,a,s,n,!!a)!==!1)return y(),r.appendChild(F),mt=r,I(),m(!0)}else if(E&&bs(n,v,this)){var T=Ae(r,0,i,!0);if(T===F)return m(!1);if(a=T,s=ft(a),mn(ut,r,F,o,a,s,n,!1)!==!1)return y(),r.insertBefore(F,T),mt=r,I(),m(!0)}else if(a.parentNode===r){s=ft(a);var O=0,B,A=F.parentNode!==r,x=!vs(F.animated&&F.toRect||o,a.animated&&a.toRect||s,v),C=v?"top":"left",j=Fr(a,"top","top")||Fr(F,"top","top"),W=j?j.scrollTop:void 0;Ie!==a&&(B=s[C],Ze=!1,gn=!x&&i.invertSwap||A),O=xs(n,a,s,v,x?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,gn,Ie===a);var R;if(O!==0){var N=bt(F);do N-=O,R=mt.children[N];while(R&&(k(R,"display")==="none"||R===q))}if(O===0||R===a)return m(!1);Ie=a,Je=O;var P=a.nextElementSibling,L=!1;L=O===1;var $=mn(ut,r,F,o,a,s,n,L);if($!==!1)return($===1||$===-1)&&(L=$===1),nr=!0,setTimeout(ys,30),y(),L&&!P?r.appendChild(F):a.parentNode.insertBefore(F,L?P:a),j&&Mo(j,0,W-j.scrollTop),mt=F.parentNode,B!==void 0&&!gn&&(On=Math.abs(B-ft(a)[C])),I(),m(!0)}if(r.contains(F))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){tt(document,"mousemove",this._onTouchMove),tt(document,"touchmove",this._onTouchMove),tt(document,"pointermove",this._onTouchMove),tt(document,"dragover",ye),tt(document,"mousemove",ye),tt(document,"touchmove",ye)},_offUpEvents:function(){var n=this.el.ownerDocument;tt(n,"mouseup",this._onDrop),tt(n,"touchend",this._onDrop),tt(n,"pointerup",this._onDrop),tt(n,"touchcancel",this._onDrop),tt(document,"selectstart",this)},_onDrop:function(n){var r=this.el,a=this.options;if(Ht=bt(F),ce=bt(F,a.draggable),Bt("drop",this,{evt:n}),mt=F&&F.parentNode,Ht=bt(F),ce=bt(F,a.draggable),z.eventCanceled){this._nulling();return}Ce=!1,gn=!1,Ze=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),rr(this.cloneId),rr(this._dragStartId),this.nativeDraggable&&(tt(document,"drop",this),tt(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Xe&&k(document.body,"user-select",""),k(F,"transform",""),n&&(Ge&&(n.cancelable&&n.preventDefault(),!a.dropBubble&&n.stopPropagation()),q&&q.parentNode&&q.parentNode.removeChild(q),(ut===mt||At&&At.lastPutMode!=="clone")&&yt&&yt.parentNode&&yt.parentNode.removeChild(yt),F&&(this.nativeDraggable&&tt(F,"dragend",this),Yn(F),F.style["will-change"]="",Ge&&!Ce&&pt(F,At?At.options.ghostClass:this.options.ghostClass,!1),pt(F,this.options.chosenClass,!1),Lt({sortable:this,name:"unchoose",toEl:mt,newIndex:null,newDraggableIndex:null,originalEvent:n}),ut!==mt?(Ht>=0&&(Lt({rootEl:mt,name:"add",toEl:mt,fromEl:ut,originalEvent:n}),Lt({sortable:this,name:"remove",toEl:mt,originalEvent:n}),Lt({rootEl:mt,name:"sort",toEl:mt,fromEl:ut,originalEvent:n}),Lt({sortable:this,name:"sort",toEl:mt,originalEvent:n})),At&&At.save()):Ht!==Pe&&Ht>=0&&(Lt({sortable:this,name:"update",toEl:mt,originalEvent:n}),Lt({sortable:this,name:"sort",toEl:mt,originalEvent:n})),z.active&&((Ht==null||Ht===-1)&&(Ht=Pe,ce=Ye),Lt({sortable:this,name:"end",toEl:mt,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){Bt("nulling",this),ut=F=mt=q=be=yt=En=fe=me=Xt=Ge=Ht=ce=Pe=Ye=Ie=Je=At=vn=z.dragged=z.ghost=z.clone=z.active=null,Dn.forEach(function(n){n.checked=!0}),Dn.length=Vn=Xn=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":F&&(this._onDragOver(n),ms(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],r,a=this.el.children,o=0,s=a.length,t=this.options;o<s;o++)r=a[o],Yt(r,t.draggable,this.el,!1)&&n.push(r.getAttribute(t.dataIdAttr)||Os(r));return n},sort:function(n,r){var a={},o=this.el;this.toArray().forEach(function(s,t){var i=o.children[t];Yt(i,this.options.draggable,o,!1)&&(a[s]=i)},this),r&&this.captureAnimationState(),n.forEach(function(s){a[s]&&(o.removeChild(a[s]),o.appendChild(a[s]))}),r&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,r){return Yt(n,r||this.options.draggable,this.el,!1)},option:function(n,r){var a=this.options;if(r===void 0)return a[n];var o=on.modifyOption(this,n,r);typeof o<"u"?a[n]=o:a[n]=r,n==="group"&&No(a)},destroy:function(){Bt("destroy",this);var n=this.el;n[Rt]=null,tt(n,"mousedown",this._onTapStart),tt(n,"touchstart",this._onTapStart),tt(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(tt(n,"dragover",this),tt(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),An.splice(An.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!fe){if(Bt("hideClone",this),z.eventCanceled)return;k(yt,"display","none"),this.options.removeCloneOnHide&&yt.parentNode&&yt.parentNode.removeChild(yt),fe=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(fe){if(Bt("showClone",this),z.eventCanceled)return;F.parentNode==ut&&!this.options.group.revertClone?ut.insertBefore(yt,F):be?ut.insertBefore(yt,be):ut.appendChild(yt),this.options.group.revertClone&&this.animate(F,yt),k(yt,"display",""),fe=!1}}};function ms(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function mn(e,n,r,a,o,s,t,i){var l,u=e[Rt],c=u.options.onMove,f;return window.CustomEvent&&!ae&&!rn?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=n,l.from=e,l.dragged=r,l.draggedRect=a,l.related=o||n,l.relatedRect=s||ft(n),l.willInsertAfter=i,l.originalEvent=t,e.dispatchEvent(l),c&&(f=c.call(u,l,t)),f}function Yn(e){e.draggable=!1}function ys(){nr=!1}function bs(e,n,r){var a=ft(Ae(r.el,0,r.options,!0)),o=10;return n?e.clientX<a.left-o||e.clientY<a.top&&e.clientX<a.right:e.clientY<a.top-o||e.clientY<a.bottom&&e.clientX<a.left}function Ss(e,n,r){var a=ft(pr(r.el,r.options.draggable)),o=10;return n?e.clientX>a.right+o||e.clientX<=a.right&&e.clientY>a.bottom&&e.clientX>=a.left:e.clientX>a.right&&e.clientY>a.top||e.clientX<=a.right&&e.clientY>a.bottom+o}function xs(e,n,r,a,o,s,t,i){var l=a?e.clientY:e.clientX,u=a?r.height:r.width,c=a?r.top:r.left,f=a?r.bottom:r.right,p=!1;if(!t){if(i&&On<u*o){if(!Ze&&(Je===1?l>c+u*s/2:l<f-u*s/2)&&(Ze=!0),Ze)p=!0;else if(Je===1?l<c+On:l>f-On)return-Je}else if(l>c+u*(1-o)/2&&l<f-u*(1-o)/2)return Es(n)}return p=p||t,p&&(l<c+u*s/2||l>f-u*s/2)?l>c+u/2?1:-1:0}function Es(e){return bt(F)<bt(e)?1:-1}function Os(e){for(var n=e.tagName+e.className+e.src+e.href+e.textContent,r=n.length,a=0;r--;)a+=n.charCodeAt(r);return a.toString(36)}function ws(e){Dn.length=0;for(var n=e.getElementsByTagName("input"),r=n.length;r--;){var a=n[r];a.checked&&Dn.push(a)}}function wn(e){return setTimeout(e,0)}function rr(e){return clearTimeout(e)}Mn&&et(document,"touchmove",function(e){(z.active||Ce)&&e.cancelable&&e.preventDefault()});z.utils={on:et,off:tt,css:k,find:jo,is:function(n,r){return!!Yt(n,r,n,!1)},extend:ss,throttle:Ro,closest:Yt,toggleClass:pt,clone:vr,index:bt,nextTick:wn,cancelNextTick:rr,detectDirection:Fo,getChild:Ae};z.get=function(e){return e[Rt]};z.mount=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n[0].constructor===Array&&(n=n[0]),n.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(z.utils=ee(ee({},z.utils),a.utils)),on.mount(a)})};z.create=function(e,n){return new z(e,n)};z.version=rs;var Et=[],He,or,ar=!1,Jn,Zn,jn,We;function Is(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return e.prototype={dragStarted:function(r){var a=r.originalEvent;this.sortable.nativeDraggable?et(document,"dragover",this._handleAutoScroll):this.options.supportPointer?et(document,"pointermove",this._handleFallbackAutoScroll):a.touches?et(document,"touchmove",this._handleFallbackAutoScroll):et(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var a=r.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?tt(document,"dragover",this._handleAutoScroll):(tt(document,"pointermove",this._handleFallbackAutoScroll),tt(document,"touchmove",this._handleFallbackAutoScroll),tt(document,"mousemove",this._handleFallbackAutoScroll)),Gr(),In(),ls()},nulling:function(){jn=or=He=ar=We=Jn=Zn=null,Et.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,a){var o=this,s=(r.touches?r.touches[0]:r).clientX,t=(r.touches?r.touches[0]:r).clientY,i=document.elementFromPoint(s,t);if(jn=r,a||this.options.forceAutoScrollFallback||rn||ae||Xe){Qn(r,this.options,i,a);var l=de(i,!0);ar&&(!We||s!==Jn||t!==Zn)&&(We&&Gr(),We=setInterval(function(){var u=de(document.elementFromPoint(s,t),!0);u!==l&&(l=u,In()),Qn(r,o.options,u,a)},10),Jn=s,Zn=t)}else{if(!this.options.bubbleScroll||de(i,!0)===_t()){In();return}Qn(r,this.options,de(i,!1),!1)}}},kt(e,{pluginName:"scroll",initializeByDefault:!0})}function In(){Et.forEach(function(e){clearInterval(e.pid)}),Et=[]}function Gr(){clearInterval(We)}var Qn=Ro(function(e,n,r,a){if(n.scroll){var o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,t=n.scrollSensitivity,i=n.scrollSpeed,l=_t(),u=!1,c;or!==r&&(or=r,In(),He=n.scroll,c=n.scrollFn,He===!0&&(He=de(r,!0)));var f=0,p=He;do{var v=p,g=ft(v),h=g.top,d=g.bottom,y=g.left,m=g.right,I=g.width,E=g.height,T=void 0,O=void 0,B=v.scrollWidth,A=v.scrollHeight,x=k(v),C=v.scrollLeft,j=v.scrollTop;v===l?(T=I<B&&(x.overflowX==="auto"||x.overflowX==="scroll"||x.overflowX==="visible"),O=E<A&&(x.overflowY==="auto"||x.overflowY==="scroll"||x.overflowY==="visible")):(T=I<B&&(x.overflowX==="auto"||x.overflowX==="scroll"),O=E<A&&(x.overflowY==="auto"||x.overflowY==="scroll"));var W=T&&(Math.abs(m-o)<=t&&C+I<B)-(Math.abs(y-o)<=t&&!!C),R=O&&(Math.abs(d-s)<=t&&j+E<A)-(Math.abs(h-s)<=t&&!!j);if(!Et[f])for(var N=0;N<=f;N++)Et[N]||(Et[N]={});(Et[f].vx!=W||Et[f].vy!=R||Et[f].el!==v)&&(Et[f].el=v,Et[f].vx=W,Et[f].vy=R,clearInterval(Et[f].pid),(W!=0||R!=0)&&(u=!0,Et[f].pid=setInterval(function(){a&&this.layer===0&&z.active._onTouchMove(jn);var P=Et[this.layer].vy?Et[this.layer].vy*i:0,L=Et[this.layer].vx?Et[this.layer].vx*i:0;typeof c=="function"&&c.call(z.dragged.parentNode[Rt],L,P,e,jn,Et[this.layer].el)!=="continue"||Mo(Et[this.layer].el,L,P)}.bind({layer:f}),24))),f++}while(n.bubbleScroll&&p!==l&&(p=de(p,!1)));ar=u}},30),$o=function(n){var r=n.originalEvent,a=n.putSortable,o=n.dragEl,s=n.activeSortable,t=n.dispatchSortableEvent,i=n.hideGhostForTarget,l=n.unhideGhostForTarget;if(r){var u=a||s;i();var c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,f=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(f)&&(t("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function gr(){}gr.prototype={startIndex:null,dragStart:function(n){var r=n.oldDraggableIndex;this.startIndex=r},onSpill:function(n){var r=n.dragEl,a=n.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=Ae(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(r,o):this.sortable.el.appendChild(r),this.sortable.animateAll(),a&&a.animateAll()},drop:$o};kt(gr,{pluginName:"revertOnSpill"});function hr(){}hr.prototype={onSpill:function(n){var r=n.dragEl,a=n.putSortable,o=a||this.sortable;o.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),o.animateAll()},drop:$o};kt(hr,{pluginName:"removeOnSpill"});var Wt;function Ts(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(r){var a=r.dragEl;Wt=a},dragOverValid:function(r){var a=r.completed,o=r.target,s=r.onMove,t=r.activeSortable,i=r.changed,l=r.cancel;if(t.options.swap){var u=this.sortable.el,c=this.options;if(o&&o!==u){var f=Wt;s(o)!==!1?(pt(o,c.swapClass,!0),Wt=o):Wt=null,f&&f!==Wt&&pt(f,c.swapClass,!1)}i(),a(!0),l()}},drop:function(r){var a=r.activeSortable,o=r.putSortable,s=r.dragEl,t=o||this.sortable,i=this.options;Wt&&pt(Wt,i.swapClass,!1),Wt&&(i.swap||o&&o.options.swap)&&s!==Wt&&(t.captureAnimationState(),t!==a&&a.captureAnimationState(),Cs(s,Wt),t.animateAll(),t!==a&&a.animateAll())},nulling:function(){Wt=null}},kt(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Wt}}})}function Cs(e,n){var r=e.parentNode,a=n.parentNode,o,s;!r||!a||r.isEqualNode(n)||a.isEqualNode(e)||(o=bt(e),s=bt(n),r.isEqualNode(a)&&o<s&&s++,r.insertBefore(n,r.children[o]),a.insertBefore(e,a.children[s]))}var Q=[],Gt=[],Ue,zt,Be=!1,$t=!1,Te=!1,it,$e,yn;function Ps(){function e(n){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));n.options.supportPointer?et(document,"pointerup",this._deselectMultiDrag):(et(document,"mouseup",this._deselectMultiDrag),et(document,"touchend",this._deselectMultiDrag)),et(document,"keydown",this._checkKeyDown),et(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(o,s){var t="";Q.length&&zt===n?Q.forEach(function(i,l){t+=(l?", ":"")+i.textContent}):t=s.textContent,o.setData("Text",t)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var a=r.dragEl;it=a},delayEnded:function(){this.isMultiDrag=~Q.indexOf(it)},setupClone:function(r){var a=r.sortable,o=r.cancel;if(this.isMultiDrag){for(var s=0;s<Q.length;s++)Gt.push(vr(Q[s])),Gt[s].sortableIndex=Q[s].sortableIndex,Gt[s].draggable=!1,Gt[s].style["will-change"]="",pt(Gt[s],this.options.selectedClass,!1),Q[s]===it&&pt(Gt[s],this.options.chosenClass,!1);a._hideClone(),o()}},clone:function(r){var a=r.sortable,o=r.rootEl,s=r.dispatchSortableEvent,t=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Q.length&&zt===a&&(Hr(!0,o),s("clone"),t()))},showClone:function(r){var a=r.cloneNowShown,o=r.rootEl,s=r.cancel;this.isMultiDrag&&(Hr(!1,o),Gt.forEach(function(t){k(t,"display","")}),a(),yn=!1,s())},hideClone:function(r){var a=this;r.sortable;var o=r.cloneNowHidden,s=r.cancel;this.isMultiDrag&&(Gt.forEach(function(t){k(t,"display","none"),a.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),o(),yn=!0,s())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&zt&&zt.multiDrag._deselectMultiDrag(),Q.forEach(function(a){a.sortableIndex=bt(a)}),Q=Q.sort(function(a,o){return a.sortableIndex-o.sortableIndex}),Te=!0},dragStarted:function(r){var a=this,o=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(o.captureAnimationState(),this.options.animation)){Q.forEach(function(t){t!==it&&k(t,"position","absolute")});var s=ft(it,!1,!0,!0);Q.forEach(function(t){t!==it&&Ur(t,s)}),$t=!0,Be=!0}o.animateAll(function(){$t=!1,Be=!1,a.options.animation&&Q.forEach(function(t){Wn(t)}),a.options.sort&&bn()})}},dragOver:function(r){var a=r.target,o=r.completed,s=r.cancel;$t&&~Q.indexOf(a)&&(o(!1),s())},revert:function(r){var a=r.fromSortable,o=r.rootEl,s=r.sortable,t=r.dragRect;Q.length>1&&(Q.forEach(function(i){s.addAnimationState({target:i,rect:$t?ft(i):t}),Wn(i),i.fromRect=t,a.removeAnimationState(i)}),$t=!1,As(!this.options.removeCloneOnHide,o))},dragOverCompleted:function(r){var a=r.sortable,o=r.isOwner,s=r.insertion,t=r.activeSortable,i=r.parentEl,l=r.putSortable,u=this.options;if(s){if(o&&t._hideClone(),Be=!1,u.animation&&Q.length>1&&($t||!o&&!t.options.sort&&!l)){var c=ft(it,!1,!0,!0);Q.forEach(function(p){p!==it&&(Ur(p,c),i.appendChild(p))}),$t=!0}if(!o)if($t||bn(),Q.length>1){var f=yn;t._showClone(a),t.options.animation&&!yn&&f&&Gt.forEach(function(p){t.addAnimationState({target:p,rect:$e}),p.fromRect=$e,p.thisAnimationDuration=null})}else t._showClone(a)}},dragOverAnimationCapture:function(r){var a=r.dragRect,o=r.isOwner,s=r.activeSortable;if(Q.forEach(function(i){i.thisAnimationDuration=null}),s.options.animation&&!o&&s.multiDrag.isMultiDrag){$e=kt({},a);var t=Se(it,!0);$e.top-=t.f,$e.left-=t.e}},dragOverAnimationComplete:function(){$t&&($t=!1,bn())},drop:function(r){var a=r.originalEvent,o=r.rootEl,s=r.parentEl,t=r.sortable,i=r.dispatchSortableEvent,l=r.oldIndex,u=r.putSortable,c=u||this.sortable;if(a){var f=this.options,p=s.children;if(!Te)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),pt(it,f.selectedClass,!~Q.indexOf(it)),~Q.indexOf(it))Q.splice(Q.indexOf(it),1),Ue=null,Ke({sortable:t,rootEl:o,name:"deselect",targetEl:it});else{if(Q.push(it),Ke({sortable:t,rootEl:o,name:"select",targetEl:it}),a.shiftKey&&Ue&&t.el.contains(Ue)){var v=bt(Ue),g=bt(it);if(~v&&~g&&v!==g){var h,d;for(g>v?(d=v,h=g):(d=g,h=v+1);d<h;d++)~Q.indexOf(p[d])||(pt(p[d],f.selectedClass,!0),Q.push(p[d]),Ke({sortable:t,rootEl:o,name:"select",targetEl:p[d]}))}}else Ue=it;zt=c}if(Te&&this.isMultiDrag){if($t=!1,(s[Rt].options.sort||s!==o)&&Q.length>1){var y=ft(it),m=bt(it,":not(."+this.options.selectedClass+")");if(!Be&&f.animation&&(it.thisAnimationDuration=null),c.captureAnimationState(),!Be&&(f.animation&&(it.fromRect=y,Q.forEach(function(E){if(E.thisAnimationDuration=null,E!==it){var T=$t?ft(E):y;E.fromRect=T,c.addAnimationState({target:E,rect:T})}})),bn(),Q.forEach(function(E){p[m]?s.insertBefore(E,p[m]):s.appendChild(E),m++}),l===bt(it))){var I=!1;Q.forEach(function(E){if(E.sortableIndex!==bt(E)){I=!0;return}}),I&&i("update")}Q.forEach(function(E){Wn(E)}),c.animateAll()}zt=c}(o===s||u&&u.lastPutMode!=="clone")&&Gt.forEach(function(E){E.parentNode&&E.parentNode.removeChild(E)})}},nullingGlobal:function(){this.isMultiDrag=Te=!1,Gt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),tt(document,"pointerup",this._deselectMultiDrag),tt(document,"mouseup",this._deselectMultiDrag),tt(document,"touchend",this._deselectMultiDrag),tt(document,"keydown",this._checkKeyDown),tt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof Te<"u"&&Te)&&zt===this.sortable&&!(r&&Yt(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;Q.length;){var a=Q[0];pt(a,this.options.selectedClass,!1),Q.shift(),Ke({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:a})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},kt(e,{pluginName:"multiDrag",utils:{select:function(r){var a=r.parentNode[Rt];!a||!a.options.multiDrag||~Q.indexOf(r)||(zt&&zt!==a&&(zt.multiDrag._deselectMultiDrag(),zt=a),pt(r,a.options.selectedClass,!0),Q.push(r))},deselect:function(r){var a=r.parentNode[Rt],o=Q.indexOf(r);!a||!a.options.multiDrag||!~o||(pt(r,a.options.selectedClass,!1),Q.splice(o,1))}},eventProperties:function(){var r=this,a=[],o=[];return Q.forEach(function(s){a.push({multiDragElement:s,index:s.sortableIndex});var t;$t&&s!==it?t=-1:$t?t=bt(s,":not(."+r.options.selectedClass+")"):t=bt(s),o.push({multiDragElement:s,index:t})}),{items:qi(Q),clones:[].concat(Gt),oldIndicies:a,newIndicies:o}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function As(e,n){Q.forEach(function(r,a){var o=n.children[r.sortableIndex+(e?Number(a):0)];o?n.insertBefore(r,o):n.appendChild(r)})}function Hr(e,n){Gt.forEach(function(r,a){var o=n.children[r.sortableIndex+(e?Number(a):0)];o?n.insertBefore(r,o):n.appendChild(r)})}function bn(){Q.forEach(function(e){e!==it&&e.parentNode&&e.parentNode.removeChild(e)})}z.mount(new Is);z.mount(hr,gr);const Ds=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Ps,Sortable:z,Swap:Ts,default:z},Symbol.toStringTag,{value:"Module"})),js=ro(Ds);(function(e,n){(function(a,o){e.exports=o(Yi,js)})(typeof self<"u"?self:_o,function(r,a){return function(o){var s={};function t(i){if(s[i])return s[i].exports;var l=s[i]={i,l:!1,exports:{}};return o[i].call(l.exports,l,l.exports,t),l.l=!0,l.exports}return t.m=o,t.c=s,t.d=function(i,l,u){t.o(i,l)||Object.defineProperty(i,l,{enumerable:!0,get:u})},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,l){if(l&1&&(i=t(i)),l&8||l&4&&typeof i=="object"&&i&&i.__esModule)return i;var u=Object.create(null);if(t.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:i}),l&2&&typeof i!="string")for(var c in i)t.d(u,c,function(f){return i[f]}.bind(null,c));return u},t.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(l,"a",l),l},t.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},t.p="",t(t.s="fb15")}({"00ee":function(o,s,t){var i=t("b622"),l=i("toStringTag"),u={};u[l]="z",o.exports=String(u)==="[object z]"},"0366":function(o,s,t){var i=t("1c0b");o.exports=function(l,u,c){if(i(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(f){return l.call(u,f)};case 2:return function(f,p){return l.call(u,f,p)};case 3:return function(f,p,v){return l.call(u,f,p,v)}}return function(){return l.apply(u,arguments)}}},"057f":function(o,s,t){var i=t("fc6a"),l=t("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(p){try{return l(p)}catch{return c.slice()}};o.exports.f=function(v){return c&&u.call(v)=="[object Window]"?f(v):l(i(v))}},"06cf":function(o,s,t){var i=t("83ab"),l=t("d1e7"),u=t("5c6c"),c=t("fc6a"),f=t("c04e"),p=t("5135"),v=t("0cfb"),g=Object.getOwnPropertyDescriptor;s.f=i?g:function(d,y){if(d=c(d),y=f(y,!0),v)try{return g(d,y)}catch{}if(p(d,y))return u(!l.f.call(d,y),d[y])}},"0cfb":function(o,s,t){var i=t("83ab"),l=t("d039"),u=t("cc12");o.exports=!i&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(o,s,t){var i=t("23e7"),l=t("d58f").left,u=t("a640"),c=t("ae40"),f=u("reduce"),p=c("reduce",{1:0});i({target:"Array",proto:!0,forced:!f||!p},{reduce:function(g){return l(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(o,s,t){var i=t("c6b6"),l=t("9263");o.exports=function(u,c){var f=u.exec;if(typeof f=="function"){var p=f.call(u,c);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(i(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(o,s,t){var i=t("da84"),l=t("fdbc"),u=t("17c2"),c=t("9112");for(var f in l){var p=i[f],v=p&&p.prototype;if(v&&v.forEach!==u)try{c(v,"forEach",u)}catch{v.forEach=u}}},"17c2":function(o,s,t){var i=t("b727").forEach,l=t("a640"),u=t("ae40"),c=l("forEach"),f=u("forEach");o.exports=!c||!f?function(v){return i(this,v,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(o,s,t){var i=t("d066");o.exports=i("document","documentElement")},"1c0b":function(o,s){o.exports=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(o,s,t){var i=t("b622"),l=i("iterator"),u=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){u=!0}};f[l]=function(){return this},Array.from(f,function(){throw 2})}catch{}o.exports=function(p,v){if(!v&&!u)return!1;var g=!1;try{var h={};h[l]=function(){return{next:function(){return{done:g=!0}}}},p(h)}catch{}return g}},"1d80":function(o,s){o.exports=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t}},"1dde":function(o,s,t){var i=t("d039"),l=t("b622"),u=t("2d00"),c=l("species");o.exports=function(f){return u>=51||!i(function(){var p=[],v=p.constructor={};return v[c]=function(){return{foo:1}},p[f](Boolean).foo!==1})}},"23cb":function(o,s,t){var i=t("a691"),l=Math.max,u=Math.min;o.exports=function(c,f){var p=i(c);return p<0?l(p+f,0):u(p,f)}},"23e7":function(o,s,t){var i=t("da84"),l=t("06cf").f,u=t("9112"),c=t("6eeb"),f=t("ce4e"),p=t("e893"),v=t("94ca");o.exports=function(g,h){var d=g.target,y=g.global,m=g.stat,I,E,T,O,B,A;if(y?E=i:m?E=i[d]||f(d,{}):E=(i[d]||{}).prototype,E)for(T in h){if(B=h[T],g.noTargetGet?(A=l(E,T),O=A&&A.value):O=E[T],I=v(y?T:d+(m?".":"#")+T,g.forced),!I&&O!==void 0){if(typeof B==typeof O)continue;p(B,O)}(g.sham||O&&O.sham)&&u(B,"sham",!0),c(E,T,B,g)}}},"241c":function(o,s,t){var i=t("ca84"),l=t("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(f){return i(f,u)}},"25f0":function(o,s,t){var i=t("6eeb"),l=t("825a"),u=t("d039"),c=t("ad6d"),f="toString",p=RegExp.prototype,v=p[f],g=u(function(){return v.call({source:"a",flags:"b"})!="/a/b"}),h=v.name!=f;(g||h)&&i(RegExp.prototype,f,function(){var y=l(this),m=String(y.source),I=y.flags,E=String(I===void 0&&y instanceof RegExp&&!("flags"in p)?c.call(y):I);return"/"+m+"/"+E},{unsafe:!0})},"2ca0":function(o,s,t){var i=t("23e7"),l=t("06cf").f,u=t("50c4"),c=t("5a34"),f=t("1d80"),p=t("ab13"),v=t("c430"),g="".startsWith,h=Math.min,d=p("startsWith"),y=!v&&!d&&!!function(){var m=l(String.prototype,"startsWith");return m&&!m.writable}();i({target:"String",proto:!0,forced:!y&&!d},{startsWith:function(I){var E=String(f(this));c(I);var T=u(h(arguments.length>1?arguments[1]:void 0,E.length)),O=String(I);return g?g.call(E,O,T):E.slice(T,T+O.length)===O}})},"2d00":function(o,s,t){var i=t("da84"),l=t("342f"),u=i.process,c=u&&u.versions,f=c&&c.v8,p,v;f?(p=f.split("."),v=p[0]+p[1]):l&&(p=l.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=l.match(/Chrome\/(\d+)/),p&&(v=p[1]))),o.exports=v&&+v},"342f":function(o,s,t){var i=t("d066");o.exports=i("navigator","userAgent")||""},"35a1":function(o,s,t){var i=t("f5df"),l=t("3f8c"),u=t("b622"),c=u("iterator");o.exports=function(f){if(f!=null)return f[c]||f["@@iterator"]||l[i(f)]}},"37e8":function(o,s,t){var i=t("83ab"),l=t("9bf2"),u=t("825a"),c=t("df75");o.exports=i?Object.defineProperties:function(p,v){u(p);for(var g=c(v),h=g.length,d=0,y;h>d;)l.f(p,y=g[d++],v[y]);return p}},"3bbe":function(o,s,t){var i=t("861d");o.exports=function(l){if(!i(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(o,s,t){var i=t("6547").charAt,l=t("69f3"),u=t("7dd0"),c="String Iterator",f=l.set,p=l.getterFor(c);u(String,"String",function(v){f(this,{type:c,string:String(v),index:0})},function(){var g=p(this),h=g.string,d=g.index,y;return d>=h.length?{value:void 0,done:!0}:(y=i(h,d),g.index+=y.length,{value:y,done:!1})})},"3f8c":function(o,s){o.exports={}},4160:function(o,s,t){var i=t("23e7"),l=t("17c2");i({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(o,s,t){var i=t("da84");o.exports=i},"44ad":function(o,s,t){var i=t("d039"),l=t("c6b6"),u="".split;o.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(o,s,t){var i=t("b622"),l=t("7c73"),u=t("9bf2"),c=i("unscopables"),f=Array.prototype;f[c]==null&&u.f(f,c,{configurable:!0,value:l(null)}),o.exports=function(p){f[c][p]=!0}},"44e7":function(o,s,t){var i=t("861d"),l=t("c6b6"),u=t("b622"),c=u("match");o.exports=function(f){var p;return i(f)&&((p=f[c])!==void 0?!!p:l(f)=="RegExp")}},4930:function(o,s,t){var i=t("d039");o.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},"4d64":function(o,s,t){var i=t("fc6a"),l=t("50c4"),u=t("23cb"),c=function(f){return function(p,v,g){var h=i(p),d=l(h.length),y=u(g,d),m;if(f&&v!=v){for(;d>y;)if(m=h[y++],m!=m)return!0}else for(;d>y;y++)if((f||y in h)&&h[y]===v)return f||y||0;return!f&&-1}};o.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(o,s,t){var i=t("23e7"),l=t("b727").filter,u=t("1dde"),c=t("ae40"),f=u("filter"),p=c("filter");i({target:"Array",proto:!0,forced:!f||!p},{filter:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(o,s,t){var i=t("0366"),l=t("7b0b"),u=t("9bdd"),c=t("e95a"),f=t("50c4"),p=t("8418"),v=t("35a1");o.exports=function(h){var d=l(h),y=typeof this=="function"?this:Array,m=arguments.length,I=m>1?arguments[1]:void 0,E=I!==void 0,T=v(d),O=0,B,A,x,C,j,W;if(E&&(I=i(I,m>2?arguments[2]:void 0,2)),T!=null&&!(y==Array&&c(T)))for(C=T.call(d),j=C.next,A=new y;!(x=j.call(C)).done;O++)W=E?u(C,I,[x.value,O],!0):x.value,p(A,O,W);else for(B=f(d.length),A=new y(B);B>O;O++)W=E?I(d[O],O):d[O],p(A,O,W);return A.length=O,A}},"4fad":function(o,s,t){var i=t("23e7"),l=t("6f53").entries;i({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(o,s,t){var i=t("a691"),l=Math.min;o.exports=function(u){return u>0?l(i(u),9007199254740991):0}},5135:function(o,s){var t={}.hasOwnProperty;o.exports=function(i,l){return t.call(i,l)}},5319:function(o,s,t){var i=t("d784"),l=t("825a"),u=t("7b0b"),c=t("50c4"),f=t("a691"),p=t("1d80"),v=t("8aa5"),g=t("14c3"),h=Math.max,d=Math.min,y=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,I=/\$([$&'`]|\d\d?)/g,E=function(T){return T===void 0?T:String(T)};i("replace",2,function(T,O,B,A){var x=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=A.REPLACE_KEEPS_$0,j=x?"$":"$0";return[function(N,P){var L=p(this),$=N?.[T];return $!==void 0?$.call(N,L,P):O.call(String(L),N,P)},function(R,N){if(!x&&C||typeof N=="string"&&N.indexOf(j)===-1){var P=B(O,R,this,N);if(P.done)return P.value}var L=l(R),$=String(this),ot=typeof N=="function";ot||(N=String(N));var st=L.global;if(st){var Tt=L.unicode;L.lastIndex=0}for(var gt=[];;){var ht=g(L,$);if(ht===null||(gt.push(ht),!st))break;var wt=String(ht[0]);wt===""&&(L.lastIndex=v($,c(L.lastIndex),Tt))}for(var It="",xt=0,lt=0;lt<gt.length;lt++){ht=gt[lt];for(var dt=String(ht[0]),Kt=h(d(f(ht.index),$.length),0),Mt=[],ie=1;ie<ht.length;ie++)Mt.push(E(ht[ie]));var ve=ht.groups;if(ot){var se=[dt].concat(Mt,Kt,$);ve!==void 0&&se.push(ve);var Ct=String(N.apply(void 0,se))}else Ct=W(dt,$,Kt,Mt,ve,N);Kt>=xt&&(It+=$.slice(xt,Kt)+Ct,xt=Kt+dt.length)}return It+$.slice(xt)}];function W(R,N,P,L,$,ot){var st=P+R.length,Tt=L.length,gt=I;return $!==void 0&&($=u($),gt=m),O.call(ot,gt,function(ht,wt){var It;switch(wt.charAt(0)){case"$":return"$";case"&":return R;case"`":return N.slice(0,P);case"'":return N.slice(st);case"<":It=$[wt.slice(1,-1)];break;default:var xt=+wt;if(xt===0)return ht;if(xt>Tt){var lt=y(xt/10);return lt===0?ht:lt<=Tt?L[lt-1]===void 0?wt.charAt(1):L[lt-1]+wt.charAt(1):ht}It=L[xt-1]}return It===void 0?"":It})}})},5692:function(o,s,t){var i=t("c430"),l=t("c6cd");(o.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(o,s,t){var i=t("d066"),l=t("241c"),u=t("7418"),c=t("825a");o.exports=i("Reflect","ownKeys")||function(p){var v=l.f(c(p)),g=u.f;return g?v.concat(g(p)):v}},"5a34":function(o,s,t){var i=t("44e7");o.exports=function(l){if(i(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(o,s){o.exports=function(t,i){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:i}}},"5db7":function(o,s,t){var i=t("23e7"),l=t("a2bf"),u=t("7b0b"),c=t("50c4"),f=t("1c0b"),p=t("65f0");i({target:"Array",proto:!0},{flatMap:function(g){var h=u(this),d=c(h.length),y;return f(g),y=p(h,0),y.length=l(y,h,h,d,0,1,g,arguments.length>1?arguments[1]:void 0),y}})},6547:function(o,s,t){var i=t("a691"),l=t("1d80"),u=function(c){return function(f,p){var v=String(l(f)),g=i(p),h=v.length,d,y;return g<0||g>=h?c?"":void 0:(d=v.charCodeAt(g),d<55296||d>56319||g+1===h||(y=v.charCodeAt(g+1))<56320||y>57343?c?v.charAt(g):d:c?v.slice(g,g+2):(d-55296<<10)+(y-56320)+65536)}};o.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(o,s,t){var i=t("861d"),l=t("e8b5"),u=t("b622"),c=u("species");o.exports=function(f,p){var v;return l(f)&&(v=f.constructor,typeof v=="function"&&(v===Array||l(v.prototype))?v=void 0:i(v)&&(v=v[c],v===null&&(v=void 0))),new(v===void 0?Array:v)(p===0?0:p)}},"69f3":function(o,s,t){var i=t("7f9a"),l=t("da84"),u=t("861d"),c=t("9112"),f=t("5135"),p=t("f772"),v=t("d012"),g=l.WeakMap,h,d,y,m=function(x){return y(x)?d(x):h(x,{})},I=function(x){return function(C){var j;if(!u(C)||(j=d(C)).type!==x)throw TypeError("Incompatible receiver, "+x+" required");return j}};if(i){var E=new g,T=E.get,O=E.has,B=E.set;h=function(x,C){return B.call(E,x,C),C},d=function(x){return T.call(E,x)||{}},y=function(x){return O.call(E,x)}}else{var A=p("state");v[A]=!0,h=function(x,C){return c(x,A,C),C},d=function(x){return f(x,A)?x[A]:{}},y=function(x){return f(x,A)}}o.exports={set:h,get:d,has:y,enforce:m,getterFor:I}},"6eeb":function(o,s,t){var i=t("da84"),l=t("9112"),u=t("5135"),c=t("ce4e"),f=t("8925"),p=t("69f3"),v=p.get,g=p.enforce,h=String(String).split("String");(o.exports=function(d,y,m,I){var E=I?!!I.unsafe:!1,T=I?!!I.enumerable:!1,O=I?!!I.noTargetGet:!1;if(typeof m=="function"&&(typeof y=="string"&&!u(m,"name")&&l(m,"name",y),g(m).source=h.join(typeof y=="string"?y:"")),d===i){T?d[y]=m:c(y,m);return}else E?!O&&d[y]&&(T=!0):delete d[y];T?d[y]=m:l(d,y,m)})(Function.prototype,"toString",function(){return typeof this=="function"&&v(this).source||f(this)})},"6f53":function(o,s,t){var i=t("83ab"),l=t("df75"),u=t("fc6a"),c=t("d1e7").f,f=function(p){return function(v){for(var g=u(v),h=l(g),d=h.length,y=0,m=[],I;d>y;)I=h[y++],(!i||c.call(g,I))&&m.push(p?[I,g[I]]:g[I]);return m}};o.exports={entries:f(!0),values:f(!1)}},"73d9":function(o,s,t){var i=t("44d2");i("flatMap")},7418:function(o,s){s.f=Object.getOwnPropertySymbols},"746f":function(o,s,t){var i=t("428f"),l=t("5135"),u=t("e538"),c=t("9bf2").f;o.exports=function(f){var p=i.Symbol||(i.Symbol={});l(p,f)||c(p,f,{value:u.f(f)})}},7839:function(o,s){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(o,s,t){var i=t("1d80");o.exports=function(l){return Object(i(l))}},"7c73":function(o,s,t){var i=t("825a"),l=t("37e8"),u=t("7839"),c=t("d012"),f=t("1be4"),p=t("cc12"),v=t("f772"),g=">",h="<",d="prototype",y="script",m=v("IE_PROTO"),I=function(){},E=function(x){return h+y+g+x+h+"/"+y+g},T=function(x){x.write(E("")),x.close();var C=x.parentWindow.Object;return x=null,C},O=function(){var x=p("iframe"),C="java"+y+":",j;return x.style.display="none",f.appendChild(x),x.src=String(C),j=x.contentWindow.document,j.open(),j.write(E("document.F=Object")),j.close(),j.F},B,A=function(){try{B=document.domain&&new ActiveXObject("htmlfile")}catch{}A=B?T(B):O();for(var x=u.length;x--;)delete A[d][u[x]];return A()};c[m]=!0,o.exports=Object.create||function(C,j){var W;return C!==null?(I[d]=i(C),W=new I,I[d]=null,W[m]=C):W=A(),j===void 0?W:l(W,j)}},"7dd0":function(o,s,t){var i=t("23e7"),l=t("9ed3"),u=t("e163"),c=t("d2bb"),f=t("d44e"),p=t("9112"),v=t("6eeb"),g=t("b622"),h=t("c430"),d=t("3f8c"),y=t("ae93"),m=y.IteratorPrototype,I=y.BUGGY_SAFARI_ITERATORS,E=g("iterator"),T="keys",O="values",B="entries",A=function(){return this};o.exports=function(x,C,j,W,R,N,P){l(j,C,W);var L=function(lt){if(lt===R&&gt)return gt;if(!I&&lt in st)return st[lt];switch(lt){case T:return function(){return new j(this,lt)};case O:return function(){return new j(this,lt)};case B:return function(){return new j(this,lt)}}return function(){return new j(this)}},$=C+" Iterator",ot=!1,st=x.prototype,Tt=st[E]||st["@@iterator"]||R&&st[R],gt=!I&&Tt||L(R),ht=C=="Array"&&st.entries||Tt,wt,It,xt;if(ht&&(wt=u(ht.call(new x)),m!==Object.prototype&&wt.next&&(!h&&u(wt)!==m&&(c?c(wt,m):typeof wt[E]!="function"&&p(wt,E,A)),f(wt,$,!0,!0),h&&(d[$]=A))),R==O&&Tt&&Tt.name!==O&&(ot=!0,gt=function(){return Tt.call(this)}),(!h||P)&&st[E]!==gt&&p(st,E,gt),d[C]=gt,R)if(It={values:L(O),keys:N?gt:L(T),entries:L(B)},P)for(xt in It)(I||ot||!(xt in st))&&v(st,xt,It[xt]);else i({target:C,proto:!0,forced:I||ot},It);return It}},"7f9a":function(o,s,t){var i=t("da84"),l=t("8925"),u=i.WeakMap;o.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(o,s,t){var i=t("861d");o.exports=function(l){if(!i(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(o,s,t){var i=t("d039");o.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(o,s,t){var i=t("c04e"),l=t("9bf2"),u=t("5c6c");o.exports=function(c,f,p){var v=i(f);v in c?l.f(c,v,u(0,p)):c[v]=p}},"861d":function(o,s){o.exports=function(t){return typeof t=="object"?t!==null:typeof t=="function"}},8875:function(o,s,t){var i,l,u;(function(c,f){l=[],i=f,u=typeof i=="function"?i.apply(s,l):i,u!==void 0&&(o.exports=u)})(typeof self<"u"?self:this,function(){function c(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(B){var p=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,v=/@([^@]*):(\d+):(\d+)\s*$/ig,g=p.exec(B.stack)||v.exec(B.stack),h=g&&g[1]||!1,d=g&&g[2]||!1,y=document.location.href.replace(document.location.hash,""),m,I,E,T=document.getElementsByTagName("script");h===y&&(m=document.documentElement.outerHTML,I=new RegExp("(?:[^\\n]+?\\n){0,"+(d-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),E=m.replace(I,"$1").trim());for(var O=0;O<T.length;O++)if(T[O].readyState==="interactive"||T[O].src===h||h===y&&T[O].innerHTML&&T[O].innerHTML.trim()===E)return T[O];return null}}return c})},8925:function(o,s,t){var i=t("c6cd"),l=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(u){return l.call(u)}),o.exports=i.inspectSource},"8aa5":function(o,s,t){var i=t("6547").charAt;o.exports=function(l,u,c){return u+(c?i(l,u).length:1)}},"8bbf":function(o,s){o.exports=r},"90e3":function(o,s){var t=0,i=Math.random();o.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++t+i).toString(36)}},9112:function(o,s,t){var i=t("83ab"),l=t("9bf2"),u=t("5c6c");o.exports=i?function(c,f,p){return l.f(c,f,u(1,p))}:function(c,f,p){return c[f]=p,c}},9263:function(o,s,t){var i=t("ad6d"),l=t("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,f=u,p=function(){var d=/a/,y=/b*/g;return u.call(d,"a"),u.call(y,"a"),d.lastIndex!==0||y.lastIndex!==0}(),v=l.UNSUPPORTED_Y||l.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,h=p||g||v;h&&(f=function(y){var m=this,I,E,T,O,B=v&&m.sticky,A=i.call(m),x=m.source,C=0,j=y;return B&&(A=A.replace("y",""),A.indexOf("g")===-1&&(A+="g"),j=String(y).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&y[m.lastIndex-1]!==`
`)&&(x="(?: "+x+")",j=" "+j,C++),E=new RegExp("^(?:"+x+")",A)),g&&(E=new RegExp("^"+x+"$(?!\\s)",A)),p&&(I=m.lastIndex),T=u.call(B?E:m,j),B?T?(T.input=T.input.slice(C),T[0]=T[0].slice(C),T.index=m.lastIndex,m.lastIndex+=T[0].length):m.lastIndex=0:p&&T&&(m.lastIndex=m.global?T.index+T[0].length:I),g&&T&&T.length>1&&c.call(T[0],E,function(){for(O=1;O<arguments.length-2;O++)arguments[O]===void 0&&(T[O]=void 0)}),T}),o.exports=f},"94ca":function(o,s,t){var i=t("d039"),l=/#|\.prototype\./,u=function(g,h){var d=f[c(g)];return d==v?!0:d==p?!1:typeof h=="function"?i(h):!!h},c=u.normalize=function(g){return String(g).replace(l,".").toLowerCase()},f=u.data={},p=u.NATIVE="N",v=u.POLYFILL="P";o.exports=u},"99af":function(o,s,t){var i=t("23e7"),l=t("d039"),u=t("e8b5"),c=t("861d"),f=t("7b0b"),p=t("50c4"),v=t("8418"),g=t("65f0"),h=t("1dde"),d=t("b622"),y=t("2d00"),m=d("isConcatSpreadable"),I=9007199254740991,E="Maximum allowed index exceeded",T=y>=51||!l(function(){var x=[];return x[m]=!1,x.concat()[0]!==x}),O=h("concat"),B=function(x){if(!c(x))return!1;var C=x[m];return C!==void 0?!!C:u(x)},A=!T||!O;i({target:"Array",proto:!0,forced:A},{concat:function(C){var j=f(this),W=g(j,0),R=0,N,P,L,$,ot;for(N=-1,L=arguments.length;N<L;N++)if(ot=N===-1?j:arguments[N],B(ot)){if($=p(ot.length),R+$>I)throw TypeError(E);for(P=0;P<$;P++,R++)P in ot&&v(W,R,ot[P])}else{if(R>=I)throw TypeError(E);v(W,R++,ot)}return W.length=R,W}})},"9bdd":function(o,s,t){var i=t("825a");o.exports=function(l,u,c,f){try{return f?u(i(c)[0],c[1]):u(c)}catch(v){var p=l.return;throw p!==void 0&&i(p.call(l)),v}}},"9bf2":function(o,s,t){var i=t("83ab"),l=t("0cfb"),u=t("825a"),c=t("c04e"),f=Object.defineProperty;s.f=i?f:function(v,g,h){if(u(v),g=c(g,!0),u(h),l)try{return f(v,g,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(v[g]=h.value),v}},"9ed3":function(o,s,t){var i=t("ae93").IteratorPrototype,l=t("7c73"),u=t("5c6c"),c=t("d44e"),f=t("3f8c"),p=function(){return this};o.exports=function(v,g,h){var d=g+" Iterator";return v.prototype=l(i,{next:u(1,h)}),c(v,d,!1,!0),f[d]=p,v}},"9f7f":function(o,s,t){var i=t("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=i(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=i(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(o,s,t){var i=t("e8b5"),l=t("50c4"),u=t("0366"),c=function(f,p,v,g,h,d,y,m){for(var I=h,E=0,T=y?u(y,m,3):!1,O;E<g;){if(E in v){if(O=T?T(v[E],E,p):v[E],d>0&&i(O))I=c(f,p,O,l(O.length),I,d-1)-1;else{if(I>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[I]=O}I++}E++}return I};o.exports=c},a352:function(o,s){o.exports=a},a434:function(o,s,t){var i=t("23e7"),l=t("23cb"),u=t("a691"),c=t("50c4"),f=t("7b0b"),p=t("65f0"),v=t("8418"),g=t("1dde"),h=t("ae40"),d=g("splice"),y=h("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,I=Math.min,E=9007199254740991,T="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!y},{splice:function(B,A){var x=f(this),C=c(x.length),j=l(B,C),W=arguments.length,R,N,P,L,$,ot;if(W===0?R=N=0:W===1?(R=0,N=C-j):(R=W-2,N=I(m(u(A),0),C-j)),C+R-N>E)throw TypeError(T);for(P=p(x,N),L=0;L<N;L++)$=j+L,$ in x&&v(P,L,x[$]);if(P.length=N,R<N){for(L=j;L<C-N;L++)$=L+N,ot=L+R,$ in x?x[ot]=x[$]:delete x[ot];for(L=C;L>C-N+R;L--)delete x[L-1]}else if(R>N)for(L=C-N;L>j;L--)$=L+N-1,ot=L+R-1,$ in x?x[ot]=x[$]:delete x[ot];for(L=0;L<R;L++)x[L+j]=arguments[L+2];return x.length=C-N+R,P}})},a4d3:function(o,s,t){var i=t("23e7"),l=t("da84"),u=t("d066"),c=t("c430"),f=t("83ab"),p=t("4930"),v=t("fdbf"),g=t("d039"),h=t("5135"),d=t("e8b5"),y=t("861d"),m=t("825a"),I=t("7b0b"),E=t("fc6a"),T=t("c04e"),O=t("5c6c"),B=t("7c73"),A=t("df75"),x=t("241c"),C=t("057f"),j=t("7418"),W=t("06cf"),R=t("9bf2"),N=t("d1e7"),P=t("9112"),L=t("6eeb"),$=t("5692"),ot=t("f772"),st=t("d012"),Tt=t("90e3"),gt=t("b622"),ht=t("e538"),wt=t("746f"),It=t("d44e"),xt=t("69f3"),lt=t("b727").forEach,dt=ot("hidden"),Kt="Symbol",Mt="prototype",ie=gt("toPrimitive"),ve=xt.set,se=xt.getterFor(Kt),Ct=Object[Mt],Pt=l.Symbol,ge=u("JSON","stringify"),Jt=W.f,Zt=R.f,an=C.f,Ln=N.f,Vt=$("symbols"),le=$("op-symbols"),xe=$("string-to-symbol-registry"),De=$("symbol-to-string-registry"),je=$("wks"),Re=l.QObject,Me=!Re||!Re[Mt]||!Re[Mt].findChild,Le=f&&g(function(){return B(Zt({},"a",{get:function(){return Zt(this,"a",{value:7}).a}})).a!=7})?function(Z,V,X){var nt=Jt(Ct,V);nt&&delete Ct[V],Zt(Z,V,X),nt&&Z!==Ct&&Zt(Ct,V,nt)}:Zt,Fe=function(Z,V){var X=Vt[Z]=B(Pt[Mt]);return ve(X,{type:Kt,tag:Z,description:V}),f||(X.description=V),X},S=v?function(Z){return typeof Z=="symbol"}:function(Z){return Object(Z)instanceof Pt},b=function(V,X,nt){V===Ct&&b(le,X,nt),m(V);var rt=T(X,!0);return m(nt),h(Vt,rt)?(nt.enumerable?(h(V,dt)&&V[dt][rt]&&(V[dt][rt]=!1),nt=B(nt,{enumerable:O(0,!1)})):(h(V,dt)||Zt(V,dt,O(1,{})),V[dt][rt]=!0),Le(V,rt,nt)):Zt(V,rt,nt)},w=function(V,X){m(V);var nt=E(X),rt=A(nt).concat(at(nt));return lt(rt,function(Nt){(!f||G.call(nt,Nt))&&b(V,Nt,nt[Nt])}),V},D=function(V,X){return X===void 0?B(V):w(B(V),X)},G=function(V){var X=T(V,!0),nt=Ln.call(this,X);return this===Ct&&h(Vt,X)&&!h(le,X)?!1:nt||!h(this,X)||!h(Vt,X)||h(this,dt)&&this[dt][X]?nt:!0},J=function(V,X){var nt=E(V),rt=T(X,!0);if(!(nt===Ct&&h(Vt,rt)&&!h(le,rt))){var Nt=Jt(nt,rt);return Nt&&h(Vt,rt)&&!(h(nt,dt)&&nt[dt][rt])&&(Nt.enumerable=!0),Nt}},_=function(V){var X=an(E(V)),nt=[];return lt(X,function(rt){!h(Vt,rt)&&!h(st,rt)&&nt.push(rt)}),nt},at=function(V){var X=V===Ct,nt=an(X?le:E(V)),rt=[];return lt(nt,function(Nt){h(Vt,Nt)&&(!X||h(Ct,Nt))&&rt.push(Vt[Nt])}),rt};if(p||(Pt=function(){if(this instanceof Pt)throw TypeError("Symbol is not a constructor");var V=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),X=Tt(V),nt=function(rt){this===Ct&&nt.call(le,rt),h(this,dt)&&h(this[dt],X)&&(this[dt][X]=!1),Le(this,X,O(1,rt))};return f&&Me&&Le(Ct,X,{configurable:!0,set:nt}),Fe(X,V)},L(Pt[Mt],"toString",function(){return se(this).tag}),L(Pt,"withoutSetter",function(Z){return Fe(Tt(Z),Z)}),N.f=G,R.f=b,W.f=J,x.f=C.f=_,j.f=at,ht.f=function(Z){return Fe(gt(Z),Z)},f&&(Zt(Pt[Mt],"description",{configurable:!0,get:function(){return se(this).description}}),c||L(Ct,"propertyIsEnumerable",G,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Pt}),lt(A(je),function(Z){wt(Z)}),i({target:Kt,stat:!0,forced:!p},{for:function(Z){var V=String(Z);if(h(xe,V))return xe[V];var X=Pt(V);return xe[V]=X,De[X]=V,X},keyFor:function(V){if(!S(V))throw TypeError(V+" is not a symbol");if(h(De,V))return De[V]},useSetter:function(){Me=!0},useSimple:function(){Me=!1}}),i({target:"Object",stat:!0,forced:!p,sham:!f},{create:D,defineProperty:b,defineProperties:w,getOwnPropertyDescriptor:J}),i({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:_,getOwnPropertySymbols:at}),i({target:"Object",stat:!0,forced:g(function(){j.f(1)})},{getOwnPropertySymbols:function(V){return j.f(I(V))}}),ge){var St=!p||g(function(){var Z=Pt();return ge([Z])!="[null]"||ge({a:Z})!="{}"||ge(Object(Z))!="{}"});i({target:"JSON",stat:!0,forced:St},{stringify:function(V,X,nt){for(var rt=[V],Nt=1,Fn;arguments.length>Nt;)rt.push(arguments[Nt++]);if(Fn=X,!(!y(X)&&V===void 0||S(V)))return d(X)||(X=function(Ko,sn){if(typeof Fn=="function"&&(sn=Fn.call(this,Ko,sn)),!S(sn))return sn}),rt[1]=X,ge.apply(null,rt)}})}Pt[Mt][ie]||P(Pt[Mt],ie,Pt[Mt].valueOf),It(Pt,Kt),st[dt]=!0},a630:function(o,s,t){var i=t("23e7"),l=t("4df4"),u=t("1c7e"),c=!u(function(f){Array.from(f)});i({target:"Array",stat:!0,forced:c},{from:l})},a640:function(o,s,t){var i=t("d039");o.exports=function(l,u){var c=[][l];return!!c&&i(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(o,s){var t=Math.ceil,i=Math.floor;o.exports=function(l){return isNaN(l=+l)?0:(l>0?i:t)(l)}},ab13:function(o,s,t){var i=t("b622"),l=i("match");o.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(o,s,t){var i=t("23e7"),l=t("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(o,s,t){var i=t("825a");o.exports=function(){var l=i(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(o,s,t){var i=t("83ab"),l=t("d039"),u=t("5135"),c=Object.defineProperty,f={},p=function(v){throw v};o.exports=function(v,g){if(u(f,v))return f[v];g||(g={});var h=[][v],d=u(g,"ACCESSORS")?g.ACCESSORS:!1,y=u(g,0)?g[0]:p,m=u(g,1)?g[1]:void 0;return f[v]=!!h&&!l(function(){if(d&&!i)return!0;var I={length:-1};d?c(I,1,{enumerable:!0,get:p}):I[1]=1,h.call(I,y,m)})}},ae93:function(o,s,t){var i=t("e163"),l=t("9112"),u=t("5135"),c=t("b622"),f=t("c430"),p=c("iterator"),v=!1,g=function(){return this},h,d,y;[].keys&&(y=[].keys(),"next"in y?(d=i(i(y)),d!==Object.prototype&&(h=d)):v=!0),h==null&&(h={}),!f&&!u(h,p)&&l(h,p,g),o.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:v}},b041:function(o,s,t){var i=t("00ee"),l=t("f5df");o.exports=i?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(o,s,t){var i=t("83ab"),l=t("9bf2").f,u=Function.prototype,c=u.toString,f=/^\s*function ([^ (]*)/,p="name";i&&!(p in u)&&l(u,p,{configurable:!0,get:function(){try{return c.call(this).match(f)[1]}catch{return""}}})},b622:function(o,s,t){var i=t("da84"),l=t("5692"),u=t("5135"),c=t("90e3"),f=t("4930"),p=t("fdbf"),v=l("wks"),g=i.Symbol,h=p?g:g&&g.withoutSetter||c;o.exports=function(d){return u(v,d)||(f&&u(g,d)?v[d]=g[d]:v[d]=h("Symbol."+d)),v[d]}},b64b:function(o,s,t){var i=t("23e7"),l=t("7b0b"),u=t("df75"),c=t("d039"),f=c(function(){u(1)});i({target:"Object",stat:!0,forced:f},{keys:function(v){return u(l(v))}})},b727:function(o,s,t){var i=t("0366"),l=t("44ad"),u=t("7b0b"),c=t("50c4"),f=t("65f0"),p=[].push,v=function(g){var h=g==1,d=g==2,y=g==3,m=g==4,I=g==6,E=g==5||I;return function(T,O,B,A){for(var x=u(T),C=l(x),j=i(O,B,3),W=c(C.length),R=0,N=A||f,P=h?N(T,W):d?N(T,0):void 0,L,$;W>R;R++)if((E||R in C)&&(L=C[R],$=j(L,R,x),g)){if(h)P[R]=$;else if($)switch(g){case 3:return!0;case 5:return L;case 6:return R;case 2:p.call(P,L)}else if(m)return!1}return I?-1:y||m?m:P}};o.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},c04e:function(o,s,t){var i=t("861d");o.exports=function(l,u){if(!i(l))return l;var c,f;if(u&&typeof(c=l.toString)=="function"&&!i(f=c.call(l))||typeof(c=l.valueOf)=="function"&&!i(f=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!i(f=c.call(l)))return f;throw TypeError("Can't convert object to primitive value")}},c430:function(o,s){o.exports=!1},c6b6:function(o,s){var t={}.toString;o.exports=function(i){return t.call(i).slice(8,-1)}},c6cd:function(o,s,t){var i=t("da84"),l=t("ce4e"),u="__core-js_shared__",c=i[u]||l(u,{});o.exports=c},c740:function(o,s,t){var i=t("23e7"),l=t("b727").findIndex,u=t("44d2"),c=t("ae40"),f="findIndex",p=!0,v=c(f);f in[]&&Array(1)[f](function(){p=!1}),i({target:"Array",proto:!0,forced:p||!v},{findIndex:function(h){return l(this,h,arguments.length>1?arguments[1]:void 0)}}),u(f)},c8ba:function(o,s){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}o.exports=t},c975:function(o,s,t){var i=t("23e7"),l=t("4d64").indexOf,u=t("a640"),c=t("ae40"),f=[].indexOf,p=!!f&&1/[1].indexOf(1,-0)<0,v=u("indexOf"),g=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:p||!v||!g},{indexOf:function(d){return p?f.apply(this,arguments)||0:l(this,d,arguments.length>1?arguments[1]:void 0)}})},ca84:function(o,s,t){var i=t("5135"),l=t("fc6a"),u=t("4d64").indexOf,c=t("d012");o.exports=function(f,p){var v=l(f),g=0,h=[],d;for(d in v)!i(c,d)&&i(v,d)&&h.push(d);for(;p.length>g;)i(v,d=p[g++])&&(~u(h,d)||h.push(d));return h}},caad:function(o,s,t){var i=t("23e7"),l=t("4d64").includes,u=t("44d2"),c=t("ae40"),f=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!f},{includes:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(o,s,t){var i=t("da84"),l=t("861d"),u=i.document,c=l(u)&&l(u.createElement);o.exports=function(f){return c?u.createElement(f):{}}},ce4e:function(o,s,t){var i=t("da84"),l=t("9112");o.exports=function(u,c){try{l(i,u,c)}catch{i[u]=c}return c}},d012:function(o,s){o.exports={}},d039:function(o,s){o.exports=function(t){try{return!!t()}catch{return!0}}},d066:function(o,s,t){var i=t("428f"),l=t("da84"),u=function(c){return typeof c=="function"?c:void 0};o.exports=function(c,f){return arguments.length<2?u(i[c])||u(l[c]):i[c]&&i[c][f]||l[c]&&l[c][f]}},d1e7:function(o,s,t){var i={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!i.call({1:2},1);s.f=u?function(f){var p=l(this,f);return!!p&&p.enumerable}:i},d28b:function(o,s,t){var i=t("746f");i("iterator")},d2bb:function(o,s,t){var i=t("825a"),l=t("3bbe");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(c,[]),u=c instanceof Array}catch{}return function(v,g){return i(v),l(g),u?f.call(v,g):v.__proto__=g,v}}():void 0)},d3b7:function(o,s,t){var i=t("00ee"),l=t("6eeb"),u=t("b041");i||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(o,s,t){var i=t("9bf2").f,l=t("5135"),u=t("b622"),c=u("toStringTag");o.exports=function(f,p,v){f&&!l(f=v?f:f.prototype,c)&&i(f,c,{configurable:!0,value:p})}},d58f:function(o,s,t){var i=t("1c0b"),l=t("7b0b"),u=t("44ad"),c=t("50c4"),f=function(p){return function(v,g,h,d){i(g);var y=l(v),m=u(y),I=c(y.length),E=p?I-1:0,T=p?-1:1;if(h<2)for(;;){if(E in m){d=m[E],E+=T;break}if(E+=T,p?E<0:I<=E)throw TypeError("Reduce of empty array with no initial value")}for(;p?E>=0:I>E;E+=T)E in m&&(d=g(d,m[E],E,y));return d}};o.exports={left:f(!1),right:f(!0)}},d784:function(o,s,t){t("ac1f");var i=t("6eeb"),l=t("d039"),u=t("b622"),c=t("9263"),f=t("9112"),p=u("species"),v=!l(function(){var m=/./;return m.exec=function(){var I=[];return I.groups={a:"7"},I},"".replace(m,"$<a>")!=="7"}),g=function(){return"a".replace(/./,"$0")==="$0"}(),h=u("replace"),d=function(){return/./[h]?/./[h]("a","$0")==="":!1}(),y=!l(function(){var m=/(?:)/,I=m.exec;m.exec=function(){return I.apply(this,arguments)};var E="ab".split(m);return E.length!==2||E[0]!=="a"||E[1]!=="b"});o.exports=function(m,I,E,T){var O=u(m),B=!l(function(){var R={};return R[O]=function(){return 7},""[m](R)!=7}),A=B&&!l(function(){var R=!1,N=/a/;return m==="split"&&(N={},N.constructor={},N.constructor[p]=function(){return N},N.flags="",N[O]=/./[O]),N.exec=function(){return R=!0,null},N[O](""),!R});if(!B||!A||m==="replace"&&!(v&&g&&!d)||m==="split"&&!y){var x=/./[O],C=E(O,""[m],function(R,N,P,L,$){return N.exec===c?B&&!$?{done:!0,value:x.call(N,P,L)}:{done:!0,value:R.call(P,N,L)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),j=C[0],W=C[1];i(String.prototype,m,j),i(RegExp.prototype,O,I==2?function(R,N){return W.call(R,this,N)}:function(R){return W.call(R,this)})}T&&f(RegExp.prototype[O],"sham",!0)}},d81d:function(o,s,t){var i=t("23e7"),l=t("b727").map,u=t("1dde"),c=t("ae40"),f=u("map"),p=c("map");i({target:"Array",proto:!0,forced:!f||!p},{map:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},da84:function(o,s,t){(function(i){var l=function(u){return u&&u.Math==Math&&u};o.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof i=="object"&&i)||Function("return this")()}).call(this,t("c8ba"))},dbb4:function(o,s,t){var i=t("23e7"),l=t("83ab"),u=t("56ef"),c=t("fc6a"),f=t("06cf"),p=t("8418");i({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(g){for(var h=c(g),d=f.f,y=u(h),m={},I=0,E,T;y.length>I;)T=d(h,E=y[I++]),T!==void 0&&p(m,E,T);return m}})},dbf1:function(o,s,t){(function(i){t.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:i.console}var u=l()}).call(this,t("c8ba"))},ddb0:function(o,s,t){var i=t("da84"),l=t("fdbc"),u=t("e260"),c=t("9112"),f=t("b622"),p=f("iterator"),v=f("toStringTag"),g=u.values;for(var h in l){var d=i[h],y=d&&d.prototype;if(y){if(y[p]!==g)try{c(y,p,g)}catch{y[p]=g}if(y[v]||c(y,v,h),l[h]){for(var m in u)if(y[m]!==u[m])try{c(y,m,u[m])}catch{y[m]=u[m]}}}}},df75:function(o,s,t){var i=t("ca84"),l=t("7839");o.exports=Object.keys||function(c){return i(c,l)}},e01a:function(o,s,t){var i=t("23e7"),l=t("83ab"),u=t("da84"),c=t("5135"),f=t("861d"),p=t("9bf2").f,v=t("e893"),g=u.Symbol;if(l&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var h={},d=function(){var O=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),B=this instanceof d?new g(O):O===void 0?g():g(O);return O===""&&(h[B]=!0),B};v(d,g);var y=d.prototype=g.prototype;y.constructor=d;var m=y.toString,I=String(g("test"))=="Symbol(test)",E=/^Symbol\((.*)\)[^)]+$/;p(y,"description",{configurable:!0,get:function(){var O=f(this)?this.valueOf():this,B=m.call(O);if(c(h,O))return"";var A=I?B.slice(7,-1):B.replace(E,"$1");return A===""?void 0:A}}),i({global:!0,forced:!0},{Symbol:d})}},e163:function(o,s,t){var i=t("5135"),l=t("7b0b"),u=t("f772"),c=t("e177"),f=u("IE_PROTO"),p=Object.prototype;o.exports=c?Object.getPrototypeOf:function(v){return v=l(v),i(v,f)?v[f]:typeof v.constructor=="function"&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?p:null}},e177:function(o,s,t){var i=t("d039");o.exports=!i(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(o,s,t){var i=t("fc6a"),l=t("44d2"),u=t("3f8c"),c=t("69f3"),f=t("7dd0"),p="Array Iterator",v=c.set,g=c.getterFor(p);o.exports=f(Array,"Array",function(h,d){v(this,{type:p,target:i(h),index:0,kind:d})},function(){var h=g(this),d=h.target,y=h.kind,m=h.index++;return!d||m>=d.length?(h.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:m,done:!1}:y=="values"?{value:d[m],done:!1}:{value:[m,d[m]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(o,s,t){var i=t("23e7"),l=t("d039"),u=t("fc6a"),c=t("06cf").f,f=t("83ab"),p=l(function(){c(1)}),v=!f||p;i({target:"Object",stat:!0,forced:v,sham:!f},{getOwnPropertyDescriptor:function(h,d){return c(u(h),d)}})},e538:function(o,s,t){var i=t("b622");s.f=i},e893:function(o,s,t){var i=t("5135"),l=t("56ef"),u=t("06cf"),c=t("9bf2");o.exports=function(f,p){for(var v=l(p),g=c.f,h=u.f,d=0;d<v.length;d++){var y=v[d];i(f,y)||g(f,y,h(p,y))}}},e8b5:function(o,s,t){var i=t("c6b6");o.exports=Array.isArray||function(u){return i(u)=="Array"}},e95a:function(o,s,t){var i=t("b622"),l=t("3f8c"),u=i("iterator"),c=Array.prototype;o.exports=function(f){return f!==void 0&&(l.Array===f||c[u]===f)}},f5df:function(o,s,t){var i=t("00ee"),l=t("c6b6"),u=t("b622"),c=u("toStringTag"),f=l(function(){return arguments}())=="Arguments",p=function(v,g){try{return v[g]}catch{}};o.exports=i?l:function(v){var g,h,d;return v===void 0?"Undefined":v===null?"Null":typeof(h=p(g=Object(v),c))=="string"?h:f?l(g):(d=l(g))=="Object"&&typeof g.callee=="function"?"Arguments":d}},f772:function(o,s,t){var i=t("5692"),l=t("90e3"),u=i("keys");o.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(o,s,t){if(t.r(s),typeof window<"u"){var i=window.document.currentScript;{var l=t("8875");i=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(t.p=u[1])}t("99af"),t("4de4"),t("4160"),t("c975"),t("d81d"),t("a434"),t("159b"),t("a4d3"),t("e439"),t("dbb4"),t("b64b");function c(S,b,w){return b in S?Object.defineProperty(S,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):S[b]=w,S}function f(S,b){var w=Object.keys(S);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(S);b&&(D=D.filter(function(G){return Object.getOwnPropertyDescriptor(S,G).enumerable})),w.push.apply(w,D)}return w}function p(S){for(var b=1;b<arguments.length;b++){var w=arguments[b]!=null?arguments[b]:{};b%2?f(Object(w),!0).forEach(function(D){c(S,D,w[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(w)):f(Object(w)).forEach(function(D){Object.defineProperty(S,D,Object.getOwnPropertyDescriptor(w,D))})}return S}function v(S){if(Array.isArray(S))return S}t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");function g(S,b){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(S)))){var w=[],D=!0,G=!1,J=void 0;try{for(var _=S[Symbol.iterator](),at;!(D=(at=_.next()).done)&&(w.push(at.value),!(b&&w.length===b));D=!0);}catch(St){G=!0,J=St}finally{try{!D&&_.return!=null&&_.return()}finally{if(G)throw J}}return w}}t("a630"),t("fb6a"),t("b0c0"),t("25f0");function h(S,b){(b==null||b>S.length)&&(b=S.length);for(var w=0,D=new Array(b);w<b;w++)D[w]=S[w];return D}function d(S,b){if(S){if(typeof S=="string")return h(S,b);var w=Object.prototype.toString.call(S).slice(8,-1);if(w==="Object"&&S.constructor&&(w=S.constructor.name),w==="Map"||w==="Set")return Array.from(S);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return h(S,b)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(S,b){return v(S)||g(S,b)||d(S,b)||y()}function I(S){if(Array.isArray(S))return h(S)}function E(S){if(typeof Symbol<"u"&&Symbol.iterator in Object(S))return Array.from(S)}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(S){return I(S)||E(S)||d(S)||T()}var B=t("a352"),A=t.n(B);function x(S){S.parentElement!==null&&S.parentElement.removeChild(S)}function C(S,b,w){var D=w===0?S.children[0]:S.children[w-1].nextSibling;S.insertBefore(b,D)}var j=t("dbf1");t("13d5"),t("4fad"),t("ac1f"),t("5319");function W(S){var b=Object.create(null);return function(D){var G=b[D];return G||(b[D]=S(D))}}var R=/-(\w)/g,N=W(function(S){return S.replace(R,function(b,w){return w.toUpperCase()})});t("5db7"),t("73d9");var P=["Start","Add","Remove","Update","End"],L=["Choose","Unchoose","Sort","Filter","Clone"],$=["Move"],ot=[$,P,L].flatMap(function(S){return S}).map(function(S){return"on".concat(S)}),st={manage:$,manageAndEmit:P,emit:L};function Tt(S){return ot.indexOf(S)!==-1}t("caad"),t("2ca0");var gt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ht(S){return gt.includes(S)}function wt(S){return["transition-group","TransitionGroup"].includes(S)}function It(S){return["id","class","role","style"].includes(S)||S.startsWith("data-")||S.startsWith("aria-")||S.startsWith("on")}function xt(S){return S.reduce(function(b,w){var D=m(w,2),G=D[0],J=D[1];return b[G]=J,b},{})}function lt(S){var b=S.$attrs,w=S.componentData,D=w===void 0?{}:w,G=xt(Object.entries(b).filter(function(J){var _=m(J,2),at=_[0];return _[1],It(at)}));return p(p({},G),D)}function dt(S){var b=S.$attrs,w=S.callBackBuilder,D=xt(Kt(b));Object.entries(w).forEach(function(J){var _=m(J,2),at=_[0],St=_[1];st[at].forEach(function(Z){D["on".concat(Z)]=St(Z)})});var G="[data-draggable]".concat(D.draggable||"");return p(p({},D),{},{draggable:G})}function Kt(S){return Object.entries(S).filter(function(b){var w=m(b,2),D=w[0];return w[1],!It(D)}).map(function(b){var w=m(b,2),D=w[0],G=w[1];return[N(D),G]}).filter(function(b){var w=m(b,2),D=w[0];return w[1],!Tt(D)})}t("c740");function Mt(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}function ie(S,b){for(var w=0;w<b.length;w++){var D=b[w];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}function ve(S,b,w){return b&&ie(S.prototype,b),S}var se=function(b){var w=b.el;return w},Ct=function(b,w){return b.__draggable_context=w},Pt=function(b){return b.__draggable_context},ge=function(){function S(b){var w=b.nodes,D=w.header,G=w.default,J=w.footer,_=b.root,at=b.realList;Mt(this,S),this.defaultNodes=G,this.children=[].concat(O(D),O(G),O(J)),this.externalComponent=_.externalComponent,this.rootTransition=_.transition,this.tag=_.tag,this.realList=at}return ve(S,[{key:"render",value:function(w,D){var G=this.tag,J=this.children,_=this._isRootComponent,at=_?{default:function(){return J}}:J;return w(G,D,at)}},{key:"updated",value:function(){var w=this.defaultNodes,D=this.realList;w.forEach(function(G,J){Ct(se(G),{element:D[J],index:J})})}},{key:"getUnderlyingVm",value:function(w){return Pt(w)}},{key:"getVmIndexFromDomIndex",value:function(w,D){var G=this.defaultNodes,J=G.length,_=D.children,at=_.item(w);if(at===null)return J;var St=Pt(at);if(St)return St.index;if(J===0)return 0;var Z=se(G[0]),V=O(_).findIndex(function(X){return X===Z});return w<V?0:J}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),S}(),Jt=t("8bbf");function Zt(S,b){var w=S[b];return w?w():[]}function an(S){var b=S.$slots,w=S.realList,D=S.getKey,G=w||[],J=["header","footer"].map(function(X){return Zt(b,X)}),_=m(J,2),at=_[0],St=_[1],Z=b.item;if(!Z)throw new Error("draggable element must have an item slot");var V=G.flatMap(function(X,nt){return Z({element:X,index:nt}).map(function(rt){return rt.key=D(X),rt.props=p(p({},rt.props||{}),{},{"data-draggable":!0}),rt})});if(V.length!==G.length)throw new Error("Item slot must have only one child");return{header:at,footer:St,default:V}}function Ln(S){var b=wt(S),w=!ht(S)&&!b;return{transition:b,externalComponent:w,tag:w?Object(Jt.resolveComponent)(S):b?Jt.TransitionGroup:S}}function Vt(S){var b=S.$slots,w=S.tag,D=S.realList,G=S.getKey,J=an({$slots:b,realList:D,getKey:G}),_=Ln(w);return new ge({nodes:J,root:_,realList:D})}function le(S,b){var w=this;Object(Jt.nextTick)(function(){return w.$emit(S.toLowerCase(),b)})}function xe(S){var b=this;return function(w,D){if(b.realList!==null)return b["onDrag".concat(S)](w,D)}}function De(S){var b=this,w=xe.call(this,S);return function(D,G){w.call(b,D,G),le.call(b,S,D)}}var je=null,Re={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(b){return b}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Me=["update:modelValue","change"].concat(O([].concat(O(st.manageAndEmit),O(st.emit)).map(function(S){return S.toLowerCase()}))),Le=Object(Jt.defineComponent)({name:"draggable",inheritAttrs:!1,props:Re,emits:Me,data:function(){return{error:!1}},render:function(){try{this.error=!1;var b=this.$slots,w=this.$attrs,D=this.tag,G=this.componentData,J=this.realList,_=this.getKey,at=Vt({$slots:b,tag:D,realList:J,getKey:_});this.componentStructure=at;var St=lt({$attrs:w,componentData:G});return at.render(Jt.h,St)}catch(Z){return this.error=!0,Object(Jt.h)("pre",{style:{color:"red"}},Z.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&j.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var b=this;if(!this.error){var w=this.$attrs,D=this.$el,G=this.componentStructure;G.updated();var J=dt({$attrs:w,callBackBuilder:{manageAndEmit:function(St){return De.call(b,St)},emit:function(St){return le.bind(b,St)},manage:function(St){return xe.call(b,St)}}}),_=D.nodeType===1?D:D.parentElement;this._sortable=new A.a(_,J),this.targetDomElement=_,_.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var b=this.list;return b||this.modelValue},getKey:function(){var b=this.itemKey;return typeof b=="function"?b:function(w){return w[b]}}},watch:{$attrs:{handler:function(b){var w=this._sortable;w&&Kt(b).forEach(function(D){var G=m(D,2),J=G[0],_=G[1];w.option(J,_)})},deep:!0}},methods:{getUnderlyingVm:function(b){return this.componentStructure.getUnderlyingVm(b)||null},getUnderlyingPotencialDraggableComponent:function(b){return b.__draggable_component__},emitChanges:function(b){var w=this;Object(Jt.nextTick)(function(){return w.$emit("change",b)})},alterList:function(b){if(this.list){b(this.list);return}var w=O(this.modelValue);b(w),this.$emit("update:modelValue",w)},spliceList:function(){var b=arguments,w=function(G){return G.splice.apply(G,O(b))};this.alterList(w)},updatePosition:function(b,w){var D=function(J){return J.splice(w,0,J.splice(b,1)[0])};this.alterList(D)},getRelatedContextFromMoveEvent:function(b){var w=b.to,D=b.related,G=this.getUnderlyingPotencialDraggableComponent(w);if(!G)return{component:G};var J=G.realList,_={list:J,component:G};if(w!==D&&J){var at=G.getUnderlyingVm(D)||{};return p(p({},at),_)}return _},getVmIndexFromDomIndex:function(b){return this.componentStructure.getVmIndexFromDomIndex(b,this.targetDomElement)},onDragStart:function(b){this.context=this.getUnderlyingVm(b.item),b.item._underlying_vm_=this.clone(this.context.element),je=b.item},onDragAdd:function(b){var w=b.item._underlying_vm_;if(w!==void 0){x(b.item);var D=this.getVmIndexFromDomIndex(b.newIndex);this.spliceList(D,0,w);var G={element:w,newIndex:D};this.emitChanges({added:G})}},onDragRemove:function(b){if(C(this.$el,b.item,b.oldIndex),b.pullMode==="clone"){x(b.clone);return}var w=this.context,D=w.index,G=w.element;this.spliceList(D,1);var J={element:G,oldIndex:D};this.emitChanges({removed:J})},onDragUpdate:function(b){x(b.item),C(b.from,b.item,b.oldIndex);var w=this.context.index,D=this.getVmIndexFromDomIndex(b.newIndex);this.updatePosition(w,D);var G={element:this.context.element,oldIndex:w,newIndex:D};this.emitChanges({moved:G})},computeFutureIndex:function(b,w){if(!b.element)return 0;var D=O(w.to.children).filter(function(at){return at.style.display!=="none"}),G=D.indexOf(w.related),J=b.component.getVmIndexFromDomIndex(G),_=D.indexOf(je)!==-1;return _||!w.willInsertAfter?J:J+1},onDragMove:function(b,w){var D=this.move,G=this.realList;if(!D||!G)return!0;var J=this.getRelatedContextFromMoveEvent(b),_=this.computeFutureIndex(J,b),at=p(p({},this.context),{},{futureIndex:_}),St=p(p({},b),{},{relatedContext:J,draggedContext:at});return D(St,w)},onDragEnd:function(){je=null}}}),Fe=Le;s.default=Fe},fb6a:function(o,s,t){var i=t("23e7"),l=t("861d"),u=t("e8b5"),c=t("23cb"),f=t("50c4"),p=t("fc6a"),v=t("8418"),g=t("b622"),h=t("1dde"),d=t("ae40"),y=h("slice"),m=d("slice",{ACCESSORS:!0,0:0,1:2}),I=g("species"),E=[].slice,T=Math.max;i({target:"Array",proto:!0,forced:!y||!m},{slice:function(B,A){var x=p(this),C=f(x.length),j=c(B,C),W=c(A===void 0?C:A,C),R,N,P;if(u(x)&&(R=x.constructor,typeof R=="function"&&(R===Array||u(R.prototype))?R=void 0:l(R)&&(R=R[I],R===null&&(R=void 0)),R===Array||R===void 0))return E.call(x,j,W);for(N=new(R===void 0?Array:R)(T(W-j,0)),P=0;j<W;j++,P++)j in x&&v(N,P,x[j]);return N.length=P,N}})},fc6a:function(o,s,t){var i=t("44ad"),l=t("1d80");o.exports=function(u){return i(l(u))}},fdbc:function(o,s){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(o,s,t){var i=t("4930");o.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Po);var Rs=Po.exports;const Ms=no(Rs),Ls={class:"flex w-full"},Fs={class:"flex-0 flex flex-row items-center"},Ns={key:0,class:"h-6 w-6 text-green-600",title:"This is Pro version!"},Us={class:"flex-1 flex justify-center items-center"},Bs={class:"flex flex-row justify-between"},$s={class:""},Ks={class:"border-l border-dashed pl-4 w-[300px] h-[500px] overflow-x-auto overflow-y-scroll"},Gs={class:"favorites-card border-b border-dashed pb-2"},Hs={class:"font-bold mb-2 flex flex-row justify-start items-center"},Ws=["onClick","title"],ks={class:"history-card pt-2"},Vs={class:"font-bold mb-2 flex flex-row justify-start items-center"},Xs={class:"overflow-y-auto"},zs=["onClick","title"],Ys=pe({__name:"Target",setup(e){const{isPro:n}=ur(),{setOpen:r}=cr(),a=tn(),o=Jr(()=>zi.filter(a.destination.page,a.pages,{}).map(h=>({label:h.original,value:h.original}))),s=oe(0);Zr(async()=>{const h=await logseq.App.getCurrentGraphConfigs();h["start-of-week"]&&(s.value=h["start-of-week"]%7)});const t=h=>{a.destination.to=h.to,a.destination.at=h.at,a.destination.page=h.page,a.destination.journal=h.journal,a.destination.after=h.after,a.destination.action=h.action},i=()=>{a.clearHistory()},l=h=>{a.deleteHistory(h)},u=()=>{a.clearFavorites()},c=()=>{a.addCurrentToFavorites()},f=h=>{a.deleteFavorite(h)},p=t,v=()=>{a.saveFavorites()},g=()=>{r(!0)};return(h,d)=>{const y=la,m=ia,I=to,E=aa,T=ua,O=na,B=Qr,A=ea,x=qr,C=ra,j=oa,W=_r,R=ta,N=eo;return Ot(),Qt(N,{show:H(a).visible,"onUpdate:show":d[9]||(d[9]=P=>H(a).visible=P),"close-on-esc":!0,closable:!0,"mask-closable":!0,"auto-focus":!0,"show-icon":!1,"on-close":H(a).hide,"on-esc":H(a).hide,"on-mask-click":H(a).hide,draggable:"","transform-origin":"center",preset:"dialog"},{header:M(()=>[K("div",Ls,[K("div",Fs,[d[12]||(d[12]=K("h2",{class:"text-xl inline-block mr-2"},"Move block",-1)),H(n)?(Ot(),qt("div",Ns,[U(H(xi))])):(Ot(),Qt(y,{key:1,class:"cursor-pointer",bordered:!1,onClick:g},{default:M(()=>d[10]||(d[10]=[Y(" Trial ")])),_:1})),U(E,{trigger:"hover"},{trigger:M(()=>[U(I,{class:"button ml-2",text:"",onClick:c},{default:M(()=>[U(m,{size:"16"},{default:M(()=>[U(H(Ri))]),_:1})]),_:1})]),default:M(()=>[d[11]||(d[11]=Y(" Add current scenario to Favorites "))]),_:1})]),K("div",Us,[U(T,{class:"mr-4"},{default:M(()=>[U(E,{trigger:"hover"},{trigger:M(()=>[U(y,{round:"",bordered:!1,type:"success",class:"cursor-pointer"},{icon:M(()=>[U(m,{component:H(Ii)},null,8,["component"])]),default:M(()=>[Y(" Moving "+Ut(H(a).countMovingBlocks>1?H(a).countMovingBlocks+" blocks":"1 block"),1)]),_:1})]),default:M(()=>[K("pre",null,Ut(H(a).movingBlocks),1)]),_:1})]),_:1})])])]),action:M(()=>[U(I,{strong:"",secondary:"",type:"primary",onClick:d[8]||(d[8]=P=>H(a).submit())},{default:M(()=>d[53]||(d[53]=[Y(" OK ")])),_:1})]),default:M(()=>[K("div",Bs,[K("div",null,[U(R,{ref:"formRef","label-width":80,"label-placement":"left",model:H(a).destination,size:"small",onKeyup:qn(H(a).submit,["enter"]),onSubmit:H(a).submit},{default:M(()=>[U(x,{label:"To:",path:"to",id:"to-section"},{label:M(()=>d[13]||(d[13]=[K("span",{class:"border-b-2 border-dotted cursor-pointer",title:"Shortcut key binding for quick switch, case insensitive"},"T",-1),Y("o: ")])),default:M(()=>[U(A,{value:H(a).destination.to,"onUpdate:value":d[0]||(d[0]=P=>H(a).destination.to=P),name:"to-section"},{default:M(()=>[K("div",null,[U(O,{key:"today",value:"today"},{default:M(()=>d[14]||(d[14]=[Y(" Today's journal ")])),_:1})]),K("div",null,[U(O,{key:"yesterday",value:"yesterday"},{default:M(()=>d[15]||(d[15]=[Y(" Yesterday's journal ")])),_:1})]),K("div",null,[U(O,{key:"tomorrow",value:"tomorrow"},{default:M(()=>d[16]||(d[16]=[Y(" Tomorrow's journal ")])),_:1})]),K("div",null,[U(O,{key:"contents",value:"contents"},{default:M(()=>d[17]||(d[17]=[Y(" Contents ")])),_:1})]),K("div",null,[U(O,{key:"current_page",value:"current_page"},{default:M(()=>d[18]||(d[18]=[Y(" Current page ")])),_:1})]),K("div",null,[U(O,{key:"journal",value:"journal"},{default:M(()=>d[19]||(d[19]=[Y(" A journal ")])),_:1})]),K("div",null,[U(O,{key:"page",value:"page"},{default:M(()=>d[20]||(d[20]=[Y(" A page ")])),_:1})]),K("div",null,[U(O,{key:"block",value:"block"},{default:M(()=>[d[21]||(d[21]=Y(" A block(UUID) ")),H(n)?he("",!0):(Ot(),Qt(B,{key:0,value:"Pro",type:H(n)?"success":"error",max:15},null,8,["type"]))]),_:1})])]),_:1},8,["value"])]),_:1}),H(a).destination.to==="journal"?(Ot(),Qt(x,{key:0,label:" ",path:"journal"},{default:M(()=>[U(C,{"formatted-value":H(a).destination.journal,"onUpdate:formattedValue":d[1]||(d[1]=P=>H(a).destination.journal=P),"value-format":"yyyy-MM-dd","first-day-of-week":s.value,type:"date",clearable:"",placeholder:"Select journal"},null,8,["formatted-value","first-day-of-week"])]),_:1})):he("",!0),H(a).destination.to==="page"?(Ot(),Qt(x,{key:1,label:" ",path:"page"},{default:M(()=>[U(j,{clearable:"",value:H(a).destination.page,"onUpdate:value":d[2]||(d[2]=P=>H(a).destination.page=P),"input-props":{autocomplete:"disabled"},options:o.value,placeholder:"Input page name"},null,8,["value","options"])]),_:1})):he("",!0),H(a).destination.to==="block"?(Ot(),Qt(x,{key:2,label:" ",path:"block"},{default:M(()=>[U(W,{clearable:"",value:H(a).destination.uuid,"onUpdate:value":d[3]||(d[3]=P=>H(a).destination.uuid=P),type:"text",placeholder:"Input block UUID"},null,8,["value"])]),_:1})):he("",!0),U(x,{label:"At:",path:"at",id:"at-section"},{label:M(()=>d[22]||(d[22]=[K("span",{class:"border-b-2 border-dotted cursor-pointer",title:"Shortcut key binding for quick switch, case insensitive"},"A",-1),Y("t: ")])),default:M(()=>[U(A,{value:H(a).destination.at,"onUpdate:value":d[4]||(d[4]=P=>H(a).destination.at=P),name:"at-section"},{default:M(()=>[K("div",null,[U(O,{key:"bottom",value:"bottom"},{default:M(()=>d[23]||(d[23]=[Y(" Bottom / Below ")])),_:1})]),K("div",null,[U(O,{key:"top",value:"top"},{default:M(()=>d[24]||(d[24]=[Y(" Top / Above ")])),_:1})])]),_:1},8,["value"])]),_:1}),U(x,{label:"Action:",path:"action",id:"action-section"},{label:M(()=>d[25]||(d[25]=[Y(" A"),K("span",{class:"border-b-2 border-dotted cursor-pointer",title:"Shortcut key binding for quick switch, case insensitive"},"c",-1),Y("tion: ")])),default:M(()=>[U(A,{value:H(a).destination.action,"onUpdate:value":d[5]||(d[5]=P=>H(a).destination.action=P),name:"action-section"},{default:M(()=>[K("div",null,[U(O,{key:"copy_content",value:"copy_content"},{default:M(()=>d[26]||(d[26]=[Y(" Copy content ")])),_:1}),U(E,{trigger:"hover"},{trigger:M(()=>[U(I,{class:"button relative",text:""},{default:M(()=>[U(m,{size:"16",class:"absolute -top-3 -ml-2"},{default:M(()=>[U(H(Kn))]),_:1})]),_:1})]),default:M(()=>[d[27]||(d[27]=Y(" Only copy block itself not it's children. "))]),_:1})]),K("div",$s,[U(O,{key:"copy_content_hierarchy",value:"copy_content_hierarchy",class:"inline-flex flex-row items-center"},{default:M(()=>d[28]||(d[28]=[Y(" Copy content and it's children ")])),_:1}),U(E,{trigger:"hover"},{trigger:M(()=>[U(I,{class:"button relative",text:""},{default:M(()=>[U(m,{size:"16",class:"absolute -top-3 -ml-2"},{default:M(()=>[U(H(Kn))]),_:1})]),_:1})]),default:M(()=>[d[29]||(d[29]=Y(" Only support for selecting one block. "))]),_:1}),H(n)?he("",!0):(Ot(),Qt(B,{key:0,value:"Pro",class:"ml-4 cursor-pointer",type:H(n)?"success":"error",max:15},null,8,["type"]))]),K("div",null,[U(O,{key:"copy_ref",value:"copy_ref"},{default:M(()=>d[30]||(d[30]=[Y(" Copy block ref ")])),_:1})]),K("div",null,[U(O,{key:"copy_embed",value:"copy_embed"},{default:M(()=>d[31]||(d[31]=[Y(" Copy block embed ")])),_:1})]),K("div",null,[U(O,{key:"cut_content",value:"cut_content",class:""},{default:M(()=>d[32]||(d[32]=[K("span",{class:""},"Cut content ",-1)])),_:1}),U(E,{trigger:"hover"},{trigger:M(()=>[U(I,{class:"button relative",text:""},{default:M(()=>[U(m,{size:"16",class:"absolute -top-3 -ml-2"},{default:M(()=>[U(H(Kn))]),_:1})]),_:1})]),default:M(()=>[d[33]||(d[33]=Y(" Children blocks will also be included. "))]),_:1})]),K("div",null,[U(O,{key:"cut_content_and_keep_ref",value:"cut_content_and_keep_ref"},{default:M(()=>[d[34]||(d[34]=Y(" Cut content and leave ref to target ")),H(n)?he("",!0):(Ot(),Qt(B,{key:0,value:"Pro",type:H(n)?"success":"error",max:15},null,8,["type"]))]),_:1})]),K("div",null,[U(O,{key:"cut_content_and_keep_embed",value:"cut_content_and_keep_embed"},{default:M(()=>[d[35]||(d[35]=Y(" Cut content and leave embed to target ")),H(n)?he("",!0):(Ot(),Qt(B,{key:0,value:"Pro",type:H(n)?"success":"error",max:15},null,8,["type"]))]),_:1})])]),_:1},8,["value"])]),_:1}),U(x,{label:"A[f]ter:",path:"after",id:"after-section"},{label:M(()=>d[36]||(d[36]=[Y(" A"),K("span",{class:"border-b-2 border-dotted cursor-pointer",title:"Shortcut key binding for quick switch, case insensitive"},"f",-1),Y("ter: ")])),default:M(()=>[U(A,{value:H(a).destination.after,"onUpdate:value":d[6]||(d[6]=P=>H(a).destination.after=P),name:"after-section"},{default:M(()=>[K("div",null,[U(O,{key:"stay",value:"stay"},{default:M(()=>d[37]||(d[37]=[Y(" Stay on current page ")])),_:1})]),K("div",null,[U(O,{key:"jump",value:"jump"},{default:M(()=>d[38]||(d[38]=[Y(" Jump to target page ")])),_:1})])]),_:1},8,["value"])]),_:1})]),_:1},8,["model","onKeyup","onSubmit"])]),K("div",Ks,[K("div",Gs,[K("div",Hs,[d[40]||(d[40]=Y(" Favorites ")),U(E,{trigger:"hover"},{trigger:M(()=>[U(I,{class:"button ml-2",text:"",onClick:u},{default:M(()=>[U(m,{size:"16"},{default:M(()=>[U(H(jr))]),_:1})]),_:1})]),default:M(()=>[d[39]||(d[39]=Y(" Clear favorites "))]),_:1})]),U(H(Ms),{modelValue:H(a).favorites,"onUpdate:modelValue":d[7]||(d[7]=P=>H(a).favorites=P),onChange:v,class:"overflow-y-auto"},{item:M(({element:P,index:L})=>[K("div",{onClick:$=>H(p)(P),class:"cursor-pointer text-ellipsis overflow-hidden text-nowrap whitespace-nowrap",title:`${H(pn)(P.action)} to ${H(Gn)(P.to)}${P.to==="page"?" "+P.page:""}${P.to==="journal"?" "+P.journal:""} at ${P.at} then ${P.after}`},[U(E,{trigger:"hover"},{trigger:M(()=>[U(I,{class:"button mr-2",text:"",onClick:$=>f(L)},{default:M(()=>[U(m,{size:"12"},{default:M(()=>[U(H(Dr))]),_:1})]),_:2},1032,["onClick"])]),default:M(()=>[d[41]||(d[41]=Y(" Delete "))]),_:2},1024),K("b",null,Ut(H(pn)(P.action)),1),d[42]||(d[42]=Y(" to ")),K("b",null,Ut(H(Gn)(P.to))+" "+Ut(P.to==="page"?P.page:"")+" "+Ut(P.to==="journal"?P.journal:""),1),d[43]||(d[43]=Y(" at ")),K("b",null,Ut(P.at),1),d[44]||(d[44]=Y(" then ")),K("b",null,Ut(P.after),1),d[45]||(d[45]=Y(". "))],8,Ws)]),_:1},8,["modelValue"])]),K("div",ks,[K("div",Vs,[d[47]||(d[47]=Y(" Recent history ")),U(E,{trigger:"hover"},{trigger:M(()=>[U(I,{class:"button ml-2",text:"",onClick:i},{default:M(()=>[U(m,{size:"16"},{default:M(()=>[U(H(jr))]),_:1})]),_:1})]),default:M(()=>[d[46]||(d[46]=Y(" Clear recent history "))]),_:1})]),K("div",Xs,[(Ot(!0),qt(oo,null,sa(H(a).history,(P,L)=>(Ot(),qt("div",{key:L,onClick:$=>t(P),class:"cursor-pointer text-ellipsis overflow-hidden text-nowrap whitespace-nowrap",title:`${H(pn)(P.action)} to ${H(Gn)(P.to)}${P.to==="page"?" "+P.page:""}${P.to==="journal"?" "+P.journal:""} at ${P.at} then ${P.after}`},[U(E,{trigger:"hover"},{trigger:M(()=>[U(I,{class:"button mr-2",text:"",onClick:$=>l(L)},{default:M(()=>[U(m,{size:"12"},{default:M(()=>[U(H(Dr))]),_:1})]),_:2},1032,["onClick"])]),default:M(()=>[d[48]||(d[48]=Y(" Delete "))]),_:2},1024),K("b",null,Ut(H(pn)(P.action)),1),d[49]||(d[49]=Y(" to ")),K("b",null,Ut(P.to)+" "+Ut(P.to==="page"?P.page:"")+" "+Ut(P.to==="journal"?P.journal:""),1),d[50]||(d[50]=Y(" at ")),K("b",null,Ut(P.at),1),d[51]||(d[51]=Y(" then ")),K("b",null,Ut(P.after),1),d[52]||(d[52]=Y(". "))],8,zs))),128))])])])])]),_:1},8,["show","on-close","on-esc","on-mask-click"])}}}),Js=(e,n)=>{const r=e.__vccOpts||e;for(const[a,o]of n)r[a]=o;return r},Zs={};function Qs(e,n){const r=Ys,a=vi;return Ot(),qt(oo,null,[U(r),U(a)],64)}const qs=Js(Zs,[["render",Qs]]),Wr=async e=>{const n=await logseq.Editor.getBlock(e.uuid),r=await logseq.App.getUserConfigs();if(n?.properties?.id||await logseq.Editor.upsertBlockProperty(e.uuid,"id",e.uuid),n&&n.content){const a=ca(new Date,r.preferredDateFormat);await So(a,!0);const o=await fr(a);o&&(o.content?await logseq.Editor.insertBlock(o.uuid,`((${n.uuid}))`,{sibling:!0}):await logseq.Editor.updateBlock(o.uuid,`((${n.uuid}))`))}},_s=()=>{logseq.Editor.registerSlashCommand("Copy block ref to today's journal",Wr),logseq.Editor.registerBlockContextMenuItem("Copy block ref to today's journal",Wr)},tl=()=>{const e=bo("keyBindings"),n=async({uuid:r})=>{await logseq.Editor.exitEditingMode(!0);const a=tn();r&&a.setFallbackUUID(r),await a.open(),logseq.showMainUI({autoFocus:!0})};logseq.App.registerCommandPalette({key:"move-block",label:"Move block",keybinding:{mode:"global",binding:e.moveBlock}},n),logseq.Editor.registerSlashCommand("Move Block",n),logseq.Editor.registerBlockContextMenuItem("Move Block",n),logseq.provideModel({async openMoveBlock(){const r=await logseq.Editor.getCurrentBlock();if(!r||!r.uuid){logseq.UI.showMsg("Need to select one block at least!","warning");return}await n({uuid:r.uuid})}}),logseq.App.registerUIItem("pagebar",{key:"logseq-move-block",template:`
     <a class="button" data-on-click="openMoveBlock" title="Open move block window">
      <i class="ti ti-corner-up-right" style=""></i>
     </a>
    `})};async function el(){Na(),_s();const e=fa(qs);e.use(da()),e.mount("#app"),tl(),Ka(),await tn().init(),logseq.on("ui:visible:changed",r=>{if(!r)return;setTimeout(()=>{$a()},300),tn().loadPages()})}logseq.ready(el).catch(console.error);
